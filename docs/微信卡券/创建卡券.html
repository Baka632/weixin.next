
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link onerror="wx_loaderror(this)" onerror="wx_loaderror(this)" rel="stylesheet" type="text/css" href="https://res.wx.qq.com/mpres/htmledition/style/page/resource/res_iframe2f613f.css"/></head>
<body class="page_doc">
<div class="main_hd"><h2>创建卡券</h2>
</div>
<div class="main_bd">
<div class="article_box">
<div class="inner">
<div class="news_content">
<p><a name="1"></a></p>
<h1><span>更新日志
<br></span></h1>
<p>
<br></p>
<table cellspacing="0" cellpadding="2" align="left">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>版本号</span></th><th class="table_cell"><span>更新内容</span></th><th class="table_cell"><span>更新时间</span></th></tr>
<tr><td class="table_cell"><span>V1.8</span></td><td class="table_cell"><span>普通券支持图文详情，对齐朋友的券；</span></td><td class="table_cell"><span>2015-2-16</span></td></tr>
<tr><td class="table_cell" colspan="1" rowspan="1"><span>V1.9</span></td><td class="table_cell" colspan="1" rowspan="1">
<p><span>普通券支持使用条件字段，开发者创建卡券时须注意使用条件字段，商户填入对应字段</span></p>
<p><span>时，系统将在卡面拼出使用的条件；若不填写时，将拼接“</span><span>无最低消费限制，全场通用，不限品类”</span><span></span></p>
<p><span>并在使用条件中拼写“可与其他优惠共享”，详情请见：<a href="https://mp.weixin.qq.com/cgi-bin/announce?action=getannouncement&amp;key=1464275447&amp;version=1&amp;lang=zh_CN&amp;platform=2" target="_blank">普通券支持使用条件的通知</a></span></p>
</td><td class="table_cell" colspan="1" rowspan="1"><span>2016-5-26</span></td></tr>
<tr><td class="table_cell" colspan="1" rowspan="1"><span>V2.0</span></td><td class="table_cell" colspan="1" rowspan="1"><span>创建/更新卡券支持设置卡券支持“全部门店”字段，商户门店变更自动同步到卡券上</span></td><td class="table_cell" colspan="1" rowspan="1"><span>2016-6-27</span></td></tr>
</tbody>
</table>
<h1><span><strong><span></span></strong></span></h1>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<ul class=" list-paddingleft-2">
<li>
<p><a href="#1" target="_self" textvalue="1&nbsp;更新通知">1&nbsp;更新通知</a></p>
</li>
<li>
<p><a href="#2" target="_self" textvalue="2&nbsp;创建卡券">2&nbsp;创建卡券</a></p>
</li>
<li><p>&nbsp;<a href="#2.1" target="_self" textvalue="2.1&nbsp;接口调用顺序">2.1&nbsp;接口调用顺序</a></p>
</li>
<li><p>&nbsp;<a href="#2.2" target="_self" textvalue="2.2&nbsp;接口调用说明">2.2&nbsp;接口调用说明</a></p>
</li>
<li><p>&nbsp;<a href="#2.3" target="_self" textvalue="2.3&nbsp;步骤一：上传卡券图片素材">2.3&nbsp;步骤一：上传卡券图片素材</a></p>
</li>
<li><p>&nbsp; &nbsp;<a href="#2.3.1" target="_self" textvalue="2.3.1&nbsp;上传图片接口">2.3.1&nbsp;上传图片接口</a></p>
</li>
<li><p>&nbsp;<a href="#2.4" target="_self" textvalue="2.4&nbsp;步骤二：设置卡券适用门店">2.4&nbsp;步骤二：设置卡券适用门店</a></p>
</li>
<li><p>&nbsp;<a href="#2.5" target="_parent">2.5&nbsp;步骤三：选取卡券背景颜色</a></p>
</li>
<li><p>&nbsp;<a href="#2.6" target="_self" textvalue="2.6&nbsp;步骤四：选择卡券类型并创建卡券">2.6&nbsp;步骤四：选择卡券类型并创建卡券</a></p>
</li>
<li><p>&nbsp;<a href="#2.7" target="_self" textvalue="2.7&nbsp;卡券基础信息字段（重要）">2.7&nbsp;卡券基础信息字段（重要）</a></p>
</li>
<li><p>&nbsp;<a href="#2.8" target="_self" textvalue="2.8&nbsp;跳转外链带参数说明">2.8&nbsp;跳转外链带参数说明</a></p>
</li>
<ul class=" list-paddingleft-2"></ul>
<li>
<p><a href="#3" target="_self" textvalue="3&nbsp;设置快速买单">3&nbsp;设置快速买单</a></p>
</li>
<li><p>&nbsp;<a href="#3.1" target="_self" textvalue="3.1&nbsp;设置买单接口">3.1&nbsp;设置买单接口</a></p>
</li>
<li><p>&nbsp;<a href="#3.2" target="_self" textvalue="3.2&nbsp;买单事件推送">3.2&nbsp;买单事件推送</a></p>
</li>
<li>
<p><a href="#4" target="_self" textvalue="4&nbsp;设置自助核销">4&nbsp;设置自助核销</a></p>
</li>
<li><p>&nbsp;<a href="#4.1" target="_self" textvalue="4.1&nbsp;设置自助核销接口">4.1&nbsp;设置自助核销接口</a></p>
</li>
<li>
<p><a href="#5" target="_self" textvalue="5&nbsp;接口调试工具">5&nbsp;接口调试工具</a></p>
</li>
</ul>
<p><a name="1"></a></p>
<h1><span><strong>1 更新通知</strong></span></h1>
<p>
<br></p>
<p><span>2016年5月15日起，微信卡券团队对会员卡能力进行全面升级。在原有能力基础上进行以下能力升级，旨在帮助商家更好地进行会员管理。</span></p>
<p><span>-强化客户端一级入口：会员到店即用，快速定位商户会员卡；</span></p>
<p><span>-自定义卡面能力：开发者可以根据会员身份设置不同的卡面背景；</span></p>
<p><span>-门店扫码方案：新用户到店扫码领卡，老用户到店扫码快速打开会员卡，实现会员点餐、买单等多种功能</span></p>
<p><span>-支付即会员：支持开发者设置微信支付后为用户下发领卡消息，顾客支付即会员，快速拉新；</span></p>
<p><span>-运营策略调整：会员卡新增开放类目限制，自4月20日起，仅限会员卡类目内的商户新建会员卡，原有会员卡不受影响，详情请见：</span><a href="https://mp.weixin.qq.com/cgi-bin/announce?action=getannouncement&amp;key=1461052555&amp;version=1&amp;lang=zh_CN&amp;platform=2" target="_blank" textvalue="《会员卡公告》">《会员卡公告》</a></p>
<p><a name="2"></a></p>
<h1><span>2 创建卡券
<br></span></h1>
<h2><span></span></h2>
<p><a name="2.1"></a></p>
<h2><span><strong>2.1 接口调用顺序</strong>
<br></span></h2>
<p>
<br></p>
<p><img src="http://mmbiz.qpic.cn/mmbiz/PiajxSqBRaEIQxibpLbyuSKyv7L5vzxedzFIrQHpc87HdR681GnDTdcgjNvmLLtdgDY4iae5C7t8UZnyMQfAPO9vg/0?wx_fmt=png" title="" alt=""></p>
<p>
<br></p>
<h2><span><strong><a name="2.2"></a>2.2 接口调用说明</strong></span></h2>
<p>
<br></p>
<p><span>在进行卡券创建前，请开发者根据自身业务场景确定以下几点</span></p>
<h3><span></span></h3>
<p><a name="2.2.1"></a></p>
<h3><span><strong>2.2.1 明确卡券ID与Code码的区别</strong>
<br></span></h3>
<p><span>创建卡券成功后获取卡券ID，一个卡券ID代表一类卡券，包含相应库存数量的Code码。&nbsp;</span></p>
<p>
<br></p>
<p><span><em>例如： 创建50元代金券，获取一个卡券ID（card_id）用于投放，并设置库存100万。顾客小A，领取到商户投放的50元代金券时，券面</em></span></p>
<p><span><em>上会有一个唯一的标识码，即code码。每个用户的code码都不相同，所以该商户最终卡券发放完毕时，微信将会派发100万个不同的code码给用户。</em></span></p>
<p>
<br></p>
<table cellspacing="0" cellpadding="2" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell" align="left" valign="top"><span>参数名</span></th><th class="table_cell" align="left" valign="top"><span>描述</span></th></tr>
<tr><td class="table_cell"><span>card_id</span></td><td class="table_cell"><span>卡券ID。一个卡券ID对应一类卡券，包含了相应库存数量的Code码。</span></td></tr>
<tr><td class="table_cell"><span>code</span></td><td class="table_cell"><span>卡券Code码。一张卡券的唯一标识，核销卡券时使用此串码，支持商户自定义。</span></td></tr>
</tbody>
</table>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p><a name="2.2.2"></a></p>
<h3><span><strong>2.2.2 是否自定义Code码</strong>
<br></span></h3>
<p><span>微信卡券的Code码可由微信后台随机分配，同时支持商户自定义，两者的区别如下：</span></p>
<p>
<br></p>
<table cellspacing="0" cellpadding="4" align="left">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>类别</span></th><th class="table_cell"><span>使用场景</span></th><th class="table_cell"><span>创建</span></th><th class="table_cell" width="89"><span>投放</span></th><th class="table_cell" width="95"><span>核销</span></th></tr>
<tr><td class="table_cell"><span>自定义Code码</span></td><td class="table_cell">
<p><span>通常为商户在现有业</span></p>
<p><span>务已有一套Code码体系。</span></p>
</td><td class="table_cell">
<p><span>"use_custom_code"：true</span></p>
<p><span>，仅支持API创建。</span></p>
</td><td class="table_cell" width="89"><span>卡券投放接口中填入code字段值。</span></td><td class="table_cell" width="95"><span>仅支持调用API接口核销。</span></td></tr>
<tr><td class="table_cell"><span>非自定义Code码</span></td><td class="table_cell">
<p><span>可使用微信的Code码体</span></p>
<p><span>系完成投放、核销。</span></p>
</td><td class="table_cell">
<p><span>"use_custom_code"：false</span></p>
<p><span>，支持API创建、公众平台创建</span></p>
<p><span>（默认为非自定义Code码）。</span></p>
</td><td class="table_cell" width="89"><span>卡券投放接口中无需填写code字段，由微信后台分配。</span></td><td class="table_cell" width="95"><span>支持卡券核销助手公众号核销、公众平台网页核销、API接口核销。</span></td></tr>
<tr><td class="table_cell" colspan="1" rowspan="1"><span>导入code模式</span></td><td class="table_cell" colspan="1" rowspan="1">
<p><span>商户须用自己的code码体系</span></p>
<p><span>，且要通过微信渠道下发卡券</span></p>
<p><span>（如：二维码/群发／货架等）</span></p>
</td><td class="table_cell" colspan="1" rowspan="1">
<p><span>"use_custom_code":tru</span></p>
<p><span>e且get_custom_code_mode:</span></p>
<p><span>"<span>GET_CUSTOM_CODE_MODE_DEPOSIT</span>"</span></p>
</td><td class="table_cell" colspan="1" rowspan="1" width="89"><span>卡券侧随机在导入的code中下发，不可指定，投放接口不可传code字段</span></td><td class="table_cell" colspan="1" rowspan="1" width="95"><span>核销时许同时传入card_id和code，仅支持API</span></td></tr>
</tbody>
</table>
<p>
<br></p>
<p>
<br></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><em><span>
<br></span></em></p>
<p><em><span>
<br></span></em></p>
<p><em><span>
<br></span></em></p>
<p><em><span>
<br></span></em></p>
<p><em><span>
<br></span></em></p>
<p><em><span>
<br></span></em></p>
<p><em><span>
<br></span></em></p>
<p><em><span>
<br></span></em></p>
<p><em><span>
<br></span></em></p>
<p><em><span>
<br></span></em></p>
<p><em><span>
<br></span></em></p>
<p><em><span>
<br></span></em></p>
<p><em><span>备注：自定义code码的开发者若想要<em><span>获得和非自定义code商户相同的群发卡券、客服消息派发卡券的能力。</span></em>可以通过</span></em><a href="http://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1451025062&amp;token=&amp;lang=zh_CN&amp;anchor=4.1" target="_blank" textvalue="导入自定义code接口"><em>导入自定义code接口</em></a><em><span>将非定义code导入到微信服务器，</span></em><span label="明显强调"><em><span>若仅在h5投放则无须导入，导入code后code由微信随机下发，不可指定。</span></em>
<br></span></p>
<h3><strong>
<br></strong></h3>
<h3><strong><a name="2.2.3"></a>2.2.3 选择合适的码型</strong><span></span></h3>
<p>商户可以根据自身的业务模式和能支持的核销方式，选择合适的券面码型，<span>并</span>在创建卡券填入code_type字段。</p>
<p>
<br></p>
<p><em>举例：若A商户选了二维码类型的卡券，则A商户的核销员在核销时可以通过手机商户助手扫码核销卡券；若B商户选择了仅code类型的
<br></em></p>
<p><em>码型，则其核销员就只能通过输入串号的方式核销卡券。</em></p>
<p>
<br></p>
<table cellspacing="0" cellpadding="4" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>类别</span></th><th class="table_cell"><span>字段名</span></th><th class="table_cell"><span>适用核销方式</span></th></tr>
<tr><td class="table_cell"><span>二维码/一维码显示code</span></td><td class="table_cell"><span>CODE_TYPE_QRCODE/CODE_TYPE_BARCODE</span></td><td class="table_cell"><span>适用于扫码/输码核销</span></td></tr>
<tr><td class="table_cell"><span>二维码不显示code</span></td><td class="table_cell"><span>CODE_TYPE_ONLY_QRCODE</span></td><td class="table_cell"><span>仅适用于扫码核销</span></td></tr>
<tr><td class="table_cell"><span>仅code类型</span></td><td class="table_cell"><span>CODE_TYPE_TEXT</span></td><td class="table_cell"><span>仅适用于输码核销</span></td></tr>
<tr><td class="table_cell"><span>无code类型</span></td><td class="table_cell"><span>CODE_TYPE_NONE</span></td><td class="table_cell"><span>仅适用于线上核销，开发者须自定义跳转链接跳转至H5页面，允许用户核销掉卡券，自定义cell的名称可以命名为“立即使用”</span></td></tr>
</tbody>
</table>
<p>
<br></p>
<p>
<br></p>
<p>
<br><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p>
<br></p>
<p>
<br></p>
<p><a name="2.2.4"></a></p>
<h3><span><strong>2.2.4 记录用户领券行为</strong>
<br></span></h3>
<p><span>
<br></span></p>
<p><span>记录用户领券行为有多种方式：</span></p>
<p><span>1. 用户领取卡券后会推送事件通知开发者，领取卡券事件中包含卡券ID、Code码、领取人OpenID、转赠人OpenID。卡券被核销时同样会推送事件，详情见</span><a href="http://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1451025274&amp;token=&amp;lang=zh_CN" target="_blank" textvalue="卡券事件通知"><span>卡券事件通知</span></a><span>。</span></p>
<p><span>2. 调用</span><a href="http://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1451025272&amp;token=&amp;lang=zh_CN&amp;anchor=1" target="_blank" textvalue="查询Code接口"><span>查询Code接口</span></a><span>获取该Code码的状态（是否被领取、核销、删除），若Code码被用户领取且处于有效状态，可获取领券人OpenID。</span></p>
<p><span>3. 从卡券详情页跳转外部链接时，微信后台会自动带上卡券ID、Code码等信息，详情见</span><a href="http://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1421141229&amp;token=&amp;lang=zh_CN&amp;anchor=6.4" target="_blank" textvalue="跳转外链带参数说明"><span>跳转外链带参数说明</span></a><span>。</span></p>
<p><span>4. 在卡券投放接口中加入场景字段outer_str，该字段值会在用户领取时伴随事件通知商户。</span></p>
<p><span>
<br></span></p>
<p><em><span>例如：创建二维码接口时设置outer_str为1，添加卡券JS-SDK时设置为2，则可通过对领取事件的分析得出两个不同投放渠道带来的领券效果，及时调整投放策略。</span></em></p>
<p><span>
<br></span></p>
<h3><span></span></h3>
<p><a name="2.2.5"></a></p>
<h3><span><strong>2.2.5 活用自定义入口</strong>
<br></span></h3>
<p><span>为满足商户功能扩展的需求，新增可自定义两个卡券内的入口，支持跳转到商户自定义的HTML5网页。&nbsp;</span></p>
<p>
<br></p>
<p><span>三个自定义入口基于不同的场景定位设置，区别如下：</span></p>
<p>
<br></p>
<table cellspacing="0" cellpadding="2" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell" align="left" valign="top"><span>类别</span></th><th class="table_cell" align="left" valign="top"><span>示例</span></th><th class="table_cell" align="left" valign="top"><span>字段</span></th><th class="table_cell" align="left" valign="top"><span>显示逻辑</span></th></tr>
<tr><td class="table_cell"><span>使用场景入口</span></td><td class="table_cell"><span>立即使用</span></td><td class="table_cell"><span>center_title、center_sub_title、center_url</span></td><td class="table_cell"><span>仅卡券被用户领取且处于有效状态时显示（未到有效期、转赠中、核销后不显示）。</span></td></tr>
<tr><td class="table_cell"><span>服务场景入口</span></td><td class="table_cell"><span>在线商城</span></td><td class="table_cell"><span>custom_url_name、custom_url_sub_title、custom_url</span></td><td class="table_cell"><span>仅卡券被用户领取且处于有效状态时显示（转赠中、核销后不显示）。</span></td></tr>
<tr><td class="table_cell"><span>营销场景入口</span></td><td class="table_cell"><span>再次购买</span></td><td class="table_cell"><span>promotion_url_name、promotion_url_sub_title、promotion_url</span></td><td class="table_cell"><span>卡券处于正常状态、转赠中、核销后等异常状态均显示该入口。</span></td></tr>
</tbody>
</table>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p><span>不同入口示例：</span></p>
<p><span><img src="http://mmbiz.qpic.cn/mmbiz/PiajxSqBRaEIQxibpLbyuSKyv7L5vzxedzCD3yrS8oDmwsGwVOJQp5DsH9q5viaYBKgC8gyoCaLAVUgFWfrtpLEzw/0?wx_fmt=png" title="" alt=""></span></p>
<h2><span></span></h2>
<p><a name="2.3"></a></p>
<h2><span><strong>2.3 步骤一：上传卡券图片素材</strong>
<br></span></h2>
<p>
<br></p>
<p><span>&nbsp; 为了保证商户的卡券在用户的微信内能快速、稳定地加载出图片素材，我们强烈建议开发者将商户的卡券素材先调用接口导入微信</span></p>
<p><span>CDN。</span></p>
<h3><span><strong><a name="2.3.1"></a>2.3.1 上传图片接口</strong>
<br></span></h3>
<p><span>开发者需调用该接口上传商户图标至微信服务器，获取相应logo_url/icon_list/image_url</span><span>，用于卡券创建。</span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>开发者注意事项</strong></span></p>
<p><span>1.上传的图片限制文件大小限制1MB，仅支持JPG、PNG格式。</span></p>
<p><span>2.调用接口获取图片url仅支持在微信相关业务下使用。</span></p>
<p>
<br><span><strong>接口调用请求说明</strong></span></p>
<pre><span>HTTP请求方式:&nbsp;POST/FROM<br>URL:https://api.weixin.qq.com/cgi-bin/media/uploadimg?access_token=ACCESS_TOKEN
<br></span></pre>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>参数说明</strong></span></p>
<table cellspacing="0" cellpadding="2" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>参数</span></th><th class="table_cell"><span>是否必须</span></th><th class="table_cell"><span>说明</span></th></tr>
<tr><td class="table_cell"><span>buffer</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>文件的数据流</span></td></tr>
<tr><td class="table_cell"><span>access_token</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>调用接口凭证</span></td></tr>
</tbody>
</table>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>请求数据</strong></span></p>
<pre><span>调用示例（使用curl命令，用FORM表单方式上传一个图片）：<br>curl&nbsp;–F<br>buffer=@test.jpg
<br></span></pre>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>&nbsp;返回数据</strong></span></p>
<pre><span>返回正确的示例：<br>{"url":"http://mmbiz.qpic.cn/mmbiz/iaL1LJM1mF9aRKPZJkmG8xXhiaHqkKSVMMWeN3hLut7X7hicFNjakmxibMLGWpXrEXB33367o7zHN0CwngnQY7zb7g/0"}
<br><br>返回错误的示例<br>{"errcode":40009,"errmsg":"invalid&nbsp;image&nbsp;size"}
<br></span></pre>
<p><strong>&nbsp;&nbsp;</strong></p>
<p><strong>&nbsp; &nbsp;参数说明</strong></p>
<p>
<br></p>
<table cellspacing="0" cellpadding="7" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>参数名</span></th><th class="table_cell"><span>描述</span></th></tr>
<tr><td class="table_cell"><span>errcode</span></td><td class="table_cell"><span>错误码</span></td></tr>
<tr><td class="table_cell"><span>errmsg</span></td><td class="table_cell"><span>错误信息</span></td></tr>
<tr><td class="table_cell"><span>url</span></td><td class="table_cell"><span>商户图片url，用于创建卡券接口中填入。特别注意：该链接仅用于微信相关业务，不支持引用。</span></td></tr>
</tbody>
</table>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p><a name="2.4"></a></p>
<h2><span><strong>2.4 步骤二：设置卡券适用门店</strong>
<br></span></h2>
<p><span>请点击查看</span><a href="https://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1444378120&amp;token=&amp;lang=zh_CN" target="_parent" textvalue="微信门店接口文档"><span>微信门店接口文档</span></a><span>，获取门店 ID 后填入创建卡券接口中的相应字段 location_id_list，即可设置该卡券的适用门店。</span></p>
<h2><span></span></h2>
<p><a name="2.5"></a></p>
<h2><span><strong>2.5 步骤三：选取卡券背景颜色</strong>
<br></span></h2>
<p><span>选择适用色值，在步骤四：创建卡券中将颜色名（如Color010）填入color字段。</span></p>
<p><img src="http://mmbiz.qpic.cn/mmbiz/PiajxSqBRaEIQxibpLbyuSK8jCzLMb60WcvO4beTEEmdDcCBOHtpYAH8oh7BpRrYU6qeCLXjAPBIe4LicZ3FvO6lw/0?wx_fmt=png" title="" alt=""></p>
<p><span>目前微信提供包括以上十种色值的共计十四种色值供开发者使用。</span></p>
<p>
<br></p>
<table cellspacing="0" cellpadding="7" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>背景颜色名称</span></th><th class="table_cell"><span>色值</span></th></tr>
<tr><td class="table_cell"><span>Color010</span></td><td class="table_cell"><span>#63b359</span></td></tr>
<tr><td class="table_cell"><span>Color020</span></td><td class="table_cell"><span>#2c9f67</span></td></tr>
<tr><td class="table_cell"><span>Color030</span></td><td class="table_cell"><span>#509fc9</span></td></tr>
<tr><td class="table_cell"><span>Color040</span></td><td class="table_cell"><span>#5885cf</span></td></tr>
<tr><td class="table_cell"><span>Color050</span></td><td class="table_cell"><span>#9062c0</span></td></tr>
<tr><td class="table_cell"><span>Color060</span></td><td class="table_cell"><span>#d09a45</span></td></tr>
<tr><td class="table_cell"><span>Color070</span></td><td class="table_cell"><span>#e4b138</span></td></tr>
<tr><td class="table_cell"><span>Color080</span></td><td class="table_cell"><span>#ee903c</span></td></tr>
<tr><td class="table_cell"><span>Color081</span></td><td class="table_cell"><span>#f08500</span></td></tr>
<tr><td class="table_cell"><span>Color082</span></td><td class="table_cell"><span>#a9d92d</span></td></tr>
<tr><td class="table_cell"><span>Color090</span></td><td class="table_cell"><span>#dd6549</span></td></tr>
<tr><td class="table_cell"><span>Color100</span></td><td class="table_cell"><span>#cc463d</span></td></tr>
<tr><td class="table_cell"><span>Color101</span></td><td class="table_cell"><span>#cf3e36</span></td></tr>
<tr><td class="table_cell"><span>Color102</span></td><td class="table_cell"><span>#5E6671</span></td></tr>
</tbody>
</table>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p><strong><a name="2.6"></a>2.6 步骤四：创建卡券</strong>
<br></p>
<h2><span></span></h2>
<p><span>创建卡券接口是微信卡券的基础接口，用于创建一类新的卡券，获取card_id，创建成功并通过审核后，商家可以通过文档提供的其他接口将卡券下发给用户，每次成功领取，库存数量相应扣除。</span></p>
<p><strong>
<br></strong></p>
<p><strong>开发者须知</strong>
<br></p>
<p><span>1.需自定义Code码的商家必须在创建卡券时候，设定use_custom_code为true，且在调用投放卡券接口时填入指定的Code码。指定OpenID同理。特别注意：在公众平台创建的卡券均为非自定义Code类型。</span></p>
<p><span>2.can_share字段指领取卡券原生页面是否可分享，建议指定Code码、指定OpenID等强限制条件的卡券填写false。</span></p>
<p><span><span label="明显强调">3.特别注意：编码方式仅支持使用UTF-8，否则会报错。</span></span></p>
<p><span>4.创建成功后该卡券会自动提交审核，审核结果将通过事件通知商户。开发者可调用</span><a href="http://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1451025062&amp;token=&amp;lang=zh_CN&amp;anchor=6" target="_blank" textvalue="设置白名单接口"><span>设置白名单接口</span></a><span>设置用户白名单，领取未通过审核的卡券，测试整个卡券的使用流程。</span></p>
<p>
<br></p>
<p><span><strong>接口调用请求说明</strong></span></p>
<pre><span>HTTP请求方式:&nbsp;POST<br>URL: https://api.weixin.qq.com/card/create?access_token=ACCESS_TOKEN
<br></span></pre>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>参数说明</strong></span></p>
<table cellspacing="0" cellpadding="2" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>参数</span></th><th class="table_cell"><span>是否必须</span></th><th class="table_cell"><span>说明</span></th></tr>
<tr><td class="table_cell"><span>access_token</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>调用接口凭证</span></td></tr>
<tr><td class="table_cell"><span>POST数据</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>Json数据</span></td></tr>
</tbody>
</table>
<p><strong><span>
<br></span></strong></p>
<p><strong><span>
<br></span></strong></p>
<p><strong><span>
<br></span></strong></p>
<p><strong><span>
<br></span></strong></p>
<p><strong><span>
<br></span></strong></p>
<p><strong><span>POST数据示例</span></strong></p>
<pre><span>{<br>&nbsp;&nbsp;"card":&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"card_type":&nbsp;"GROUPON",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"groupon":&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"base_info":&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"logo_url":&nbsp;&nbsp;"http://mmbiz.qpic.cn/mmbiz/iaL1LJM1mF9aRKPZJkmG8xXhiaHqkKSVMMWeN3hLut7X7hicFNjakmxibMLGWpXrEXB33367o7zHN0CwngnQY7zb7g/0",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"brand_name":&nbsp;"微信餐厅",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"code_type":&nbsp;"CODE_TYPE_TEXT",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"title":&nbsp;"132元双人火锅套餐",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"color":&nbsp;"Color010",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"notice":&nbsp;"使用时向服务员出示此券",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"service_phone":&nbsp;"020-88888888",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"description":&nbsp;"不可与其他优惠同享\n如需团购券发票，请在消费时向商户提出\n店内均可使用，仅限堂食",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"date_info":&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"type":&nbsp;"DATE_TYPE_FIX_TIME_RANGE",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"begin_timestamp":&nbsp;1397577600,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"end_timestamp":&nbsp;1472724261<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"sku":&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"quantity":&nbsp;500000<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"get_limit":&nbsp;3,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"use_custom_code":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"bind_openid":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"can_share":&nbsp;true,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"can_give_friend":&nbsp;true,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"location_id_list":&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;123,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12321,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;345345<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"center_title":&nbsp;"顶部居中按钮",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"center_sub_title":&nbsp;"按钮下方的wording",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"center_url":&nbsp;"www.qq.com",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"custom_url_name":&nbsp;"立即使用",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"custom_url":&nbsp;"http://www.qq.com",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"custom_url_sub_title":&nbsp;"6个汉字tips",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"promotion_url_name":&nbsp;"更多优惠",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"promotion_url":&nbsp;"http://www.qq.com",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"source":&nbsp;"大众点评"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"advanced_info":&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"use_condition":&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"accept_category":&nbsp;"鞋类",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"reject_category":&nbsp;"阿迪达斯",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"can_use_with_other_discount":&nbsp;true<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"abstract":&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"abstract":&nbsp;"微信餐厅推出多种新季菜品，期待您的光临",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"icon_url_list":&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"http://mmbiz.qpic.cn/mmbiz/p98FjXy8LacgHxp3sJ3vn97bGLz0ib0Sfz1bjiaoOYA027iasqSG0sj&nbsp;&nbsp;piby4vce3AtaPu6cIhBHkt6IjlkY9YnDsfw/0"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"text_image_list":&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"image_url":&nbsp;"http://mmbiz.qpic.cn/mmbiz/p98FjXy8LacgHxp3sJ3vn97bGLz0ib0Sfz1bjiaoOYA027iasqSG0sjpiby4vce3AtaPu6cIhBHkt6IjlkY9YnDsfw/0",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"text":&nbsp;"此菜品精选食材，以独特的烹饪方法，最大程度地刺激食&nbsp;客的味蕾"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"image_url":&nbsp;"http://mmbiz.qpic.cn/mmbiz/p98FjXy8LacgHxp3sJ3vn97bGLz0ib0Sfz1bjiaoOYA027iasqSG0sj&nbsp;piby4vce3AtaPu6cIhBHkt6IjlkY9YnDsfw/0",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"text":&nbsp;"此菜品迎合大众口味，老少皆宜，营养均衡"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"time_limit":&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"type":&nbsp;"MONDAY",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"begin_hour":0,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"end_hour":10,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"begin_minute":10,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"end_minute":59<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"type":&nbsp;"HOLIDAY"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"business_service":&nbsp;[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"BIZ_SERVICE_FREE_WIFI",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"BIZ_SERVICE_WITH_PET",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"BIZ_SERVICE_FREE_PARK",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"BIZ_SERVICE_DELIVER"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"deal_detail":&nbsp;"以下锅底2选1（有菌王锅、麻辣锅、大骨锅、番茄锅、清补&nbsp;凉锅、酸菜鱼锅可选）：\n大锅1份&nbsp;12元\n小锅2份&nbsp;16元&nbsp;"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;}<br>}
<br></span></pre>
<p><strong><span>字段示图&nbsp;</span></strong></p>
<p>
<br></p>
<p><img src="http://mmbiz.qpic.cn/mmbiz/PiajxSqBRaEIQxibpLbyuSKyv7L5vzxedzsCcsNotZjwj0U7nribibJmTpLFHjxTAgMz9ZUaRGibpInFQwwGxAR9XYQ/0?wx_fmt=png" title="" alt=""></p>
<p>
<br></p>
<h3><span></span></h3>
<p><a name="3.5.1"></a></p>
<h3><span><strong>团购券</strong>
<br></span></h3>
<p>
<br></p>
<table cellspacing="0" cellpadding="2" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>参数名</span></th><th class="table_cell"><span>必填</span></th><th class="table_cell"><span>类型</span></th><th class="table_cell"><span>示例值</span></th><th class="table_cell"><span>描述</span></th></tr>
<tr><td class="table_cell"><span>card_type</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>string(24)</span></td><td class="table_cell"><span>GROUPON</span></td><td class="table_cell"><span>团购券类型。</span></td></tr>
<tr><td class="table_cell"><span>base_info</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>JSON结构</span></td><td class="table_cell"><span>见上述示例。</span></td><td class="table_cell"><span>基本的卡券数据</span><span>，见下表，所有卡券类型通用。</span></td></tr>
<tr><td class="table_cell"><span>deal_detail</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>string(<span>3072</span>)</span></td><td class="table_cell"><span>双人套餐\n -进口红酒一支。\n孜然牛肉一份。</span></td><td class="table_cell"><span>团购券专用，团购详情。</span></td></tr>
</tbody>
</table>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p><strong>
<br></strong></p>
<p><strong>JSON示例</strong></p>
<pre>{
&nbsp;"card":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"card_type":&nbsp;"GROUPON",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"groupon":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"base_info":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;················
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"advanced_info":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;················
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"deal_detail":&nbsp;"示例"
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;}
}</pre>
<h3><span></span></h3>
<p><a name="3.5.2"></a></p>
<h3><span><strong>代金券</strong>
<br></span></h3>
<p>
<br></p>
<table cellspacing="0" cellpadding="2" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>参数名</span></th><th class="table_cell"><span>必填</span></th><th class="table_cell"><span>类型</span></th><th class="table_cell"><span>示例值</span></th><th class="table_cell"><span>描述</span></th></tr>
<tr><td class="table_cell"><span>card_type</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>string(24)</span></td><td class="table_cell"><span>CASH</span></td><td class="table_cell"><span>代金券类型。</span></td></tr>
<tr><td class="table_cell"><span>base_info</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>JSON结构</span></td><td class="table_cell"><span>见上述示例。</span></td><td class="table_cell"><span>基本的卡券数据，见下表，所有卡券通用。</span></td></tr>
<tr><td class="table_cell"><span>least_cost</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>int</span></td><td class="table_cell"><span>10000</span></td><td class="table_cell"><span>代金券专用，表示起用金额（单位为分）,如果无起用门槛则填0。</span></td></tr>
<tr><td class="table_cell"><span>reduce_cost</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>int</span></td><td class="table_cell"><span>10000</span></td><td class="table_cell"><span>代金券专用，表示减免金额。（单位为分）</span></td></tr>
</tbody>
</table>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p><strong>JSON示例</strong></p>
<pre>{
&nbsp;"card":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"card_type":&nbsp;"CASH",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"cash":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"base_info":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;················
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"advanced_info":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;················
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"least_cost":&nbsp;1000,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"reduce_cost":&nbsp;100,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;}
}</pre>
<h3><span></span></h3>
<p><a name="3.5.3"></a></p>
<h3><span><strong>折扣券</strong>
<br></span></h3>
<p>
<br></p>
<table cellspacing="0" cellpadding="2" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>参数名</span></th><th class="table_cell"><span>必填</span></th><th class="table_cell"><span>类型</span></th><th class="table_cell"><span>示例值</span></th><th class="table_cell"><span>描述</span></th></tr>
<tr><td class="table_cell"><span>card_type</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>string(24)</span></td><td class="table_cell"><span>DISCOUNT</span></td><td class="table_cell"><span>折扣券类型。</span></td></tr>
<tr><td class="table_cell"><span>base_info</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>Json结构</span></td><td class="table_cell"><span>见上述示例。</span></td><td class="table_cell"><span>基本的卡券数据</span><span>，见下表，所有卡券通用。</span></td></tr>
<tr><td class="table_cell"><span>discount</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>int</span></td><td class="table_cell"><span>30</span></td><td class="table_cell"><span>折扣券专用，表示打折额度（百分比）。填30就是七折。</span></td></tr>
</tbody>
</table>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>JSON示例：</p>
<pre>{
&nbsp;"card":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"card_type":&nbsp;"DISCOUNT",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"discount":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"base_info":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;················
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"advanced_info":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;················
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"discount":&nbsp;30
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;}
}</pre>
<h3><span></span></h3>
<p><a name="3.5.4"></a></p>
<h3><span><strong>兑换券</strong>
<br></span></h3>
<p>
<br></p>
<table cellspacing="0" cellpadding="2" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>参数名</span></th><th class="table_cell"><span>必填</span></th><th class="table_cell"><span>类型</span></th><th class="table_cell"><span>示例值</span></th><th class="table_cell"><span>描述</span></th></tr>
<tr><td class="table_cell"><span>card_type</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>string(24)</span></td><td class="table_cell"><span>GIFT</span></td><td class="table_cell"><span>兑换券类型。</span></td></tr>
<tr><td class="table_cell"><span>base_info</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>Json结构</span></td><td class="table_cell"><span>见上述示例。</span></td><td class="table_cell"><span>基本的卡券数据</span><span>，所有卡券通用。</span></td></tr>
<tr><td class="table_cell"><span>gift</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>string(3072)</span></td><td class="table_cell"><span>可兑换音乐木盒一个。</span></td><td class="table_cell"><span>兑换券专用，填写兑换内容的名称。</span></td></tr>
</tbody>
</table>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p><strong>JSON示例</strong></p>
<pre>{
"card":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;"card_type":&nbsp;"GIFT",
&nbsp;&nbsp;&nbsp;&nbsp;"gift":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"base_info":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;················
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"advanced_info":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;················
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"gift":"可兑换音乐木盒一个"
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
}</pre>
<h3><span></span></h3>
<p><a name="3.5.5"></a></p>
<h3><span><strong>优惠券</strong>
<br></span></h3>
<p>
<br></p>
<table cellspacing="0" cellpadding="2" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>参数名</span></th><th class="table_cell"><span>必填</span></th><th class="table_cell"><span>类型</span></th><th class="table_cell"><span>示例值</span></th><th class="table_cell"><span>描述</span></th></tr>
<tr><td class="table_cell"><span>card_type</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>string(24)</span></td><td class="table_cell"><span>GENERAL_COUPON</span></td><td class="table_cell"><span>优惠券类型。</span></td></tr>
<tr><td class="table_cell"><span>base_info</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>Json结构</span></td><td class="table_cell"><span>见上述示例。</span></td><td class="table_cell"><span>基本的卡券数据</span><span>，见下表，所有卡券通用。</span></td></tr>
<tr><td class="table_cell"><span>default_detail</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>string(3072)</span></td><td class="table_cell"><span>音乐木盒。</span></td><td class="table_cell"><span>优惠券专用，填写优惠详情。</span></td></tr>
</tbody>
</table>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p><strong>
<br></strong></p>
<p><strong>JSON示例</strong></p>
<pre>{
"card":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;"card_type":&nbsp;"GENERAL_COUPON",
&nbsp;&nbsp;&nbsp;&nbsp;"general_coupon":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"base_info":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;················
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"advanced_info":&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;················
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"default_detail":"优惠券专用，填写优惠详情"
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
}</pre>
<h3><span></span></h3>
<p><a name="2.7"></a></p>
<h3><span><strong>2.7 卡券基础信息字段（重要）</strong>
<br></span></h3>
<p><span><strong>&nbsp;</strong></span><strong>&nbsp;base_info（卡券基础信息）字段-必填字段</strong></p>
<table cellspacing="0" cellpadding="4" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell" align="left" valign="top"><span>参数名</span></th><th class="table_cell" align="left" valign="top"><span>必填</span></th><th class="table_cell" align="left" valign="top"><span>类型</span></th><th class="table_cell" align="left" valign="top"><span>示例值</span></th><th class="table_cell" align="left" valign="top"><span>描述</span></th></tr>
<tr><td class="table_cell"><span>logo_url</span></td><td class="table_cell"><span>是</span></td><td class="table_cell">
<p><span>strin</span><span>g(128)</span></p>
</td><td class="table_cell"><a href="http://mmbiz.qpic.cn/" rel="nofollow" target="_blank"><span>http://mmbiz.qpic.cn/</span></a></td><td class="table_cell"><span>卡券的商户logo，建议像素为300*300。</span></td></tr>
<tr><td class="table_cell"><span>code_type</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>string(16)</span></td><td class="table_cell"><span>CODE_TYPE_TEXT</span></td><td class="table_cell">
<p><span>码型：</span></p>
<p><span>"CODE_TYPE_TEXT"文<span>本</span>；</span></p>
<p><span>"CODE_TYPE_BARCODE"一维码&nbsp;</span></p>
<p><span>"CODE_TYPE_QRCODE"二维码</span></p>
<p><span>"CODE_TYPE_ONLY_QRCODE",二维码无code显示；</span></p>
<p><span>"CODE_TYPE_ONLY_BARCODE",一维码无code显示；CODE_TYPE_NONE，</span></p>
<p><span>不显示code和条形码类型</span></p>
</td></tr>
<tr><td class="table_cell"><span>brand_name</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>string（36）</span></td><td class="table_cell"><span>海底捞</span></td><td class="table_cell"><span>商户名字,字数上限为12个汉字。</span></td></tr>
<tr><td class="table_cell"><span>title</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>string（27）</span></td><td class="table_cell"><span>双人套餐100元兑换券</span></td><td class="table_cell"><span>卡券名，字数上限为9个汉字。(建议涵盖卡券属性、服务及金额)。</span></td></tr>
<tr><td class="table_cell"><span>color</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>string（16）</span></td><td class="table_cell"><span>Color010</span></td><td class="table_cell"><span>券颜色。按色彩规范标注填写Color010-Color100。</span></td></tr>
<tr><td class="table_cell"><span>notice</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>string（48）</span></td><td class="table_cell"><span>请出示二维码</span></td><td class="table_cell"><span>卡券使用提醒，字数上限为16个汉字。</span></td></tr>
<tr><td class="table_cell"><span>description</span></td><td class="table_cell"><span>是</span></td><td class="table_cell">
<p><span>strin</span><span>g</span></p>
<p><span>（3072）</span></p>
</td><td class="table_cell"><span>不可与其他优惠同享</span></td><td class="table_cell"><span>卡券使用说明，字数上限为1024个汉字。</span></td></tr>
<tr><td class="table_cell"><span>sku</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>JSON结构</span></td><td class="table_cell"><span>见上述示例。</span></td><td class="table_cell"><span>商品信息。</span></td></tr>
<tr><td class="table_cell"><span>quantity</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>int</span></td><td class="table_cell"><span>100000</span></td><td class="table_cell"><span>卡券库存的数量，上限为100000000。</span></td></tr>
<tr><td class="table_cell"><span>date_info</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>JSON结构</span></td><td class="table_cell"><span>见上述示例。</span></td><td class="table_cell"><span>使用日期，有效期的信息。</span></td></tr>
<tr><td class="table_cell"><span>type</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>string</span></td><td class="table_cell">
<p><span>DATE_TYPE_FIX</span></p>
<p><span>_TIME_RANGE&nbsp;</span></p>
<p><span>表示固定日期区间，DATE_TYPE_</span><span>FIX_TERM</span></p>
<p><span>表示固定时长</span></p>
<p><span>（自领取后按天算。</span></p>
</td><td class="table_cell"><span>使用时间的类型，旧文档采用的1和2依然生效。</span></td></tr>
<tr><td class="table_cell">
<p><span>begin_time</span></p>
<p><span>stamp</span></p>
</td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>unsigned int</span></td><td class="table_cell"><span>14300000</span></td><td class="table_cell"><span>type为DATE_TYPE_FIX_TIME_RANGE时专用，表示起用时间。从1970年1月1日00:00:00至起用时间的秒数，最终需转换为字符串形态传入。（东八区时间,UTC+8，单位为秒）</span></td></tr>
<tr><td class="table_cell">
<p><span>end_time</span></p>
<p><span>stamp</span></p>
</td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>unsigned int</span></td><td class="table_cell"><span>15300000</span></td><td class="table_cell"><span>表示结束时间<span>，<span></span><span label="强调"><span>建议设置为截止日期的23:59:59过期</span>。</span></span>（<span>东八区时间,UTC+8，单位为秒</span>）</span></td></tr>
<tr><td class="table_cell"><span>fixed_term</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>int</span></td><td class="table_cell"><span>15</span></td><td class="table_cell"><span>type为DATE_TYPE_FIX_TERM时专用，表示自领取后多少天内有效，不支持填写0。</span></td></tr>
<tr><td class="table_cell">
<p><span>fixed_begin</span></p>
<p><span>_term</span></p>
</td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>int</span></td><td class="table_cell"><span>0</span></td><td class="table_cell"><span>type为DATE_TYPE_FIX_TERM时专用，表示自领取后多少天开始生效，领取后当天生效填写0。（单位为天）</span></td></tr>
<tr><td class="table_cell">
<p><span>end_time</span></p>
<p><span>s</span><span>tamp</span></p>
</td><td class="table_cell"><span>否</span></td><td class="table_cell"><span>unsigned int</span></td><td class="table_cell"><span>15300000</span></td><td class="table_cell"><span>可用于DATE_TYPE_FIX_TERM时间类型，表示卡券统一过期时间<span>，<span>建议设置为截止日期的23:59:59过期</span>。</span>（<span>东八区时间,UTC+8，单位为秒</span>），设置了fixed_term卡券，当时间达到end_timestamp时卡券统一过期</span></td></tr>
</tbody>
</table>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p><span>
<br></span></p>
<p>
<br></p>
<p><span><strong>&nbsp;</strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>&nbsp;base_info（卡券基础信息）字段-非必填字段</strong></span></p>
<p><span><strong>
<br></strong></span></p>
<table cellspacing="0" cellpadding="4" align="left">
<tbody>
<tr class="firstRow thead"><th class="table_cell" align="left" valign="top"><span>参数名</span></th><th class="table_cell" align="left" valign="top"><span>必填</span></th><th class="table_cell" align="left" valign="top"><span>类型</span></th><th class="table_cell" align="left" valign="top"><span>示例值</span></th><th class="table_cell" align="left" valign="top"><span>描述</span></th></tr>
<tr><td class="table_cell"><span>use_custom_code</span></td><td class="table_cell"><span>否</span></td><td class="table_cell"><span>bool</span></td><td class="table_cell"><span>true</span></td><td class="table_cell">
<p><span>是否自定义Code码</span></p>
<p><span>。填写true或false，默认为false。</span></p>
<p><span>通常自有优惠码系统的开发者选择</span></p>
<p><span>自定义Code码，并在卡券投放时带入</span></p>
<p><span>Code码，详情见</span><a href="#2.2.2" target="_self" textvalue="是否自定义Code码"><span>是否自定义Code码</span></a><span>。</span></p>
</td></tr>
<tr><td class="table_cell" colspan="1" rowspan="1"><span>get_custom_code_mode</span></td><td class="table_cell" colspan="1" rowspan="1"><span>否</span></td><td class="table_cell" colspan="1" rowspan="1"><span>string(32)</span></td><td class="table_cell" colspan="1" rowspan="1">
<p><span>GET_CUSTOM_COD</span></p>
<p><span>E_MODE_DEPOSIT</span></p>
</td><td class="table_cell" colspan="1" rowspan="1">
<p><span><span>填入</span></span></p>
<p><span>GET_CUSTOM_CODE_MODE_DEPOSIT</span></p>
<p><span>表示该卡券为预存code模式卡券，</span></p>
<p><span>须导入超过库存数目的自定义code后方可投放，</span></p>
<p><span>填入该字段后，quantity字段须为0,须导入code</span></p>
<p><span>后再增加库存</span></p>
</td></tr>
<tr><td class="table_cell"><span>bind_openid</span></td><td class="table_cell"><span>否</span></td><td class="table_cell"><span>bool</span></td><td class="table_cell"><span>true</span></td><td class="table_cell">
<p><span>是否指定用户领取，填写true或false</span></p>
<p><span>。默认为false。通常指定特殊用户群体</span></p>
<p><span>投放卡券或防止刷券时选择指定用户领取。</span></p>
</td></tr>
<tr><td class="table_cell"><span>service_phone</span></td><td class="table_cell"><span>否</span></td><td class="table_cell"><span>string（24）</span></td><td class="table_cell"><span>40012234</span></td><td class="table_cell"><span>客服电话。</span></td></tr>
<tr><td class="table_cell"><span>location_id_list</span></td><td class="table_cell"><span>否</span></td><td class="table_cell"><span>array</span></td><td class="table_cell"><span>1234，2312</span></td><td class="table_cell">
<p><span>门店位置poiid。</span><a href="http://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1444378120&amp;token=&amp;lang=zh_CN" target="_blank"><span>调用</span><span>POI门店管理接</span></a></p>
<p><a href="http://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1444378120&amp;token=&amp;lang=zh_CN" target="_blank"><span>口</span></a><span>获取门店位置poiid。具备线下门店</span></p>
<p><span>的商户为必填。</span></p>
</td></tr>
<tr><td class="table_cell" colspan="1" rowspan="1">
<p><span>use_all_locations</span></p>
</td><td class="table_cell" colspan="1" rowspan="1"><span>否</span></td><td class="table_cell" colspan="1" rowspan="1"><span>bool</span></td><td class="table_cell" colspan="1" rowspan="1"><span>true</span></td><td class="table_cell" colspan="1" rowspan="1"><span>设置本卡券支持全部门店，与location_id_list互斥</span></td></tr>
<tr><td class="table_cell"><span>source</span></td><td class="table_cell"><span>否</span></td><td class="table_cell"><span>string（36）</span></td><td class="table_cell"><span>大众点评</span></td><td class="table_cell"><span>第三方来源名，例如同程旅游、大众点评。</span></td></tr>
<tr><td class="table_cell"><span>custom_url_name</span></td><td class="table_cell"><span>否</span></td><td class="table_cell"><span>string（15）</span></td><td class="table_cell"><span>立即使用</span></td><td class="table_cell">
<p><span>自定义跳转外链的入口名字</span></p>
<p><span>。详情见</span><a href="#2.2.5" target="_self" textvalue="活用自定义入口"><span>活用自定义入口</span></a></p>
</td></tr>
<tr><td class="table_cell"><span>center_title</span></td><td class="table_cell"><span>否</span></td><td class="table_cell"><span>string（18）</span></td><td class="table_cell"><span>立即使用</span></td><td class="table_cell">
<p><span>卡券顶部居中的按钮，仅在卡券状</span></p>
<p><span>态正常(可以核销)时显示</span></p>
</td></tr>
<tr><td class="table_cell"><span>center_sub_title</span></td><td class="table_cell"><span>否</span></td><td class="table_cell"><span>string（24）</span></td><td class="table_cell"><span>立即享受优惠</span></td><td class="table_cell">
<p><span>显示在入口下方的提示语</span></p>
<p><span>，仅在卡券状态正常(可以核销)时显示。</span></p>
</td></tr>
<tr><td class="table_cell"><span>center_url</span></td><td class="table_cell"><span>否</span></td><td class="table_cell"><span>string（128）</span></td><td class="table_cell"><span>www.qq.com</span></td><td class="table_cell">
<p><span>顶部居中的url</span></p>
<p><span>，仅在卡券状态正常(可以核销)时显示。</span></p>
</td></tr>
<tr><td class="table_cell"><span>custom_url</span></td><td class="table_cell"><span>否</span></td><td class="table_cell"><span>string（128）</span></td><td class="table_cell"><span>www.qq.com</span></td><td class="table_cell"><span>自定义跳转的URL。</span></td></tr>
<tr><td class="table_cell"><span>custom_url_sub_title</span></td><td class="table_cell"><span>否</span></td><td class="table_cell"><span>string（18）</span></td><td class="table_cell"><span>更多惊喜</span></td><td class="table_cell"><span>显示在入口右侧的提示语。</span></td></tr>
<tr><td class="table_cell"><span>promotion_url_name</span></td><td class="table_cell"><span>否</span></td><td class="table_cell"><span>string（15）</span></td><td class="table_cell"><span>产品介绍</span></td><td class="table_cell"><span>营销场景的自定义入口名称。</span></td></tr>
<tr><td class="table_cell"><span>promotion_url</span></td><td class="table_cell"><span>否</span></td><td class="table_cell"><span>string（128）</span></td><td class="table_cell"><span>www.qq.com</span></td><td class="table_cell"><span>入口跳转外链的地址链接。</span></td></tr>
<tr><td class="table_cell"><span>promotion_url_sub_title</span></td><td class="table_cell"><span>否</span></td><td class="table_cell"><span>string（18）</span></td><td class="table_cell"><span>卖场大优惠。</span></td><td class="table_cell"><span>显示在营销入口右侧的提示语。</span></td></tr>
<tr><td class="table_cell"><span>get_limit</span></td><td class="table_cell"><span>否</span></td><td class="table_cell"><span>int</span></td><td class="table_cell"><span>1</span></td><td class="table_cell"><span>每人可领券的数量限制,不填写默认为50。</span></td></tr>
<tr><td class="table_cell"><span>can_share</span></td><td class="table_cell"><span>否</span></td><td class="table_cell"><span>bool</span></td><td class="table_cell"><span>false</span></td><td class="table_cell"><span>卡券领取页面是否可分享。</span></td></tr>
<tr><td class="table_cell"><span>can_give_friend</span></td><td class="table_cell"><span>否</span></td><td class="table_cell"><span>bool</span></td><td class="table_cell"><span>false</span></td><td class="table_cell"><span>卡券是否可转赠。</span></td></tr>
</tbody>
</table>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p>
<br></p>
<p><strong>
<br></strong></p>
<p><strong>
<br></strong></p>
<p><strong>
<br></strong></p>
<p><strong>Advanced_info（卡券高级信息）字段</strong>
<br></p>
<p>
<br></p>
<table cellspacing="0" cellpadding="2" align="left">
<tbody>
<tr class="firstRow thead"><th class="table_cell" align="left" valign="top"><span>字段</span></th><th class="table_cell" align="left" valign="top">
<p><span>是</span>否</p>
<p>必填</p>
</th><th class="table_cell" align="left" valign="top">类型</th><th class="table_cell" align="left" valign="top"><span>说明</span></th></tr>
<tr><td class="table_cell"><span>advanced_info</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span>否</span></td><td class="table_cell"><span>JSON结构</span></td><td class="table_cell"><span>创建优惠券特有的高级字段</span></td></tr>
<tr><td class="table_cell"><span>use_condition</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span>否</span></td><td class="table_cell"><span>JSON结构</span></td><td class="table_cell">
<p><span>使用门槛（条件）字段，若不填写使用条件则在券面拼写<br>：无最低消费限制，全场通用，不限品类；并在使用说明显示：<br>可与其他优惠共享</span></p>
</td></tr>
<tr><td class="table_cell"><span>accept_category</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span>否</span></td><td class="table_cell"><span>string（512）</span></td><td class="table_cell">
<p><span>指定可用的商品类目，仅用于代金券类型</span></p>
<p><span>，填入后将在券面拼写适用于xxx</span></p>
</td></tr>
<tr><td class="table_cell"><span>reject_category</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span>否</span></td><td class="table_cell"><span>string（<span>512</span>）</span></td><td class="table_cell">
<p><span>指定不可用的商品类目，仅用于代金券类型</span></p>
<p><span>，填入后将在券面拼写不适用于xxxx</span></p>
</td></tr>
<tr><td class="table_cell"><span>least_cost</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span><span>否</span></span></td><td class="table_cell"><span>int</span></td><td class="table_cell">
<p><span>满减门槛字段，可用于兑换券和代金券</span></p>
<p><span>，填入后将在全面拼写消费满xx元可用。</span></p>
</td></tr>
<tr><td class="table_cell"><span>object_use_for</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span><span>否</span></span></td><td class="table_cell"><span>string（<span>512</span>）</span></td><td class="table_cell">
<p><span>购买xx可用类型门槛，仅用于兑换</span></p>
<p><span>，填入后自动拼写购买xxx可用。</span></p>
</td></tr>
<tr><td class="table_cell"><span>can_use_with_other_discount</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span><span>否</span></span></td><td class="table_cell"><span>bool</span></td><td class="table_cell">
<p><span>不可以与其他类型共享门槛</span></p>
<p><span>，填写false时系统将在使用须知里</span></p>
<p><span>拼写“不可与其他优惠共享”，</span></p>
<p><span>填写true时系统将在使用须知里</span></p>
<p><span>拼写“可与其他优惠共享”，</span></p>
<p><span>默认为true</span>
<br></p>
</td></tr>
<tr><td class="table_cell"><span>abstract</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span>否</span></td><td class="table_cell"><span>JSON结构</span></td><td class="table_cell"><span>封面摘要结构体名称</span></td></tr>
<tr><td class="table_cell"><span>abstract</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span><span>否</span></span></td><td class="table_cell"><span></span><span>string（24</span><span>）</span></td><td class="table_cell"><span>封面摘要简介。</span></td></tr>
<tr><td class="table_cell"><span>icon_url_list</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span><span>否</span></span></td><td class="table_cell"><span>string（128</span><span>）</span></td><td class="table_cell">
<p><span>封面图片列表，仅支持填入一</span></p>
<p><span>个封面图片链接，</span><a href="#2.3.1" target="_self" textvalue="上传图片接口"><span>上传图片接口</span></a></p>
<p><span>上传获取图片获得链接，填写</span></p>
<p><span>非CDN链接会报错，并在此填入。</span></p>
<p><span>建议图片尺寸像素850*350</span></p>
</td></tr>
<tr><td class="table_cell"><span>text_image_list</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span><span>否</span></span></td><td class="table_cell"><span>JSON结构</span></td><td class="table_cell">
<p><span>图文列表，显示在详情内页</span></p>
<p><span>，优惠券券开发者须至少传入</span></p>
<p><span>一组图文列表</span></p>
</td></tr>
<tr><td class="table_cell"><span>image_url</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span><span>否</span></span></td><td class="table_cell"><span>string（128</span><span>）</span></td><td class="table_cell">
<p><span>图片链接，必须调用</span><a href="#2.3.1" target="_self" textvalue="上传图片接口"><span>上传图片接口</span></a></p>
<p><span>上传图片获得链接，并在此填入，</span></p>
<p><span>否则报错</span></p>
</td></tr>
<tr><td class="table_cell" align="left" valign="top"><span>text</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span><span>否</span></span></td><td class="table_cell"><span>string（512</span><span>）</span></td><td class="table_cell"><span>图文描述</span></td></tr>
<tr><td class="table_cell"><span>business_service</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span>否</span></td><td class="table_cell"><span>arry</span></td><td class="table_cell"><span>商家服务类型：</span>
<p><span>BIZ_SERVICE_DELIVER 外卖服务；</span></p>
<p><span>BIZ_SERVICE_FREE_PARK 停车位；</span></p>
<p><span>BIZ_SERVICE_WITH_PET 可带宠物；</span></p>
<p><span>BIZ_SERVICE_FREE_WIFI 免费wifi，</span></p>
<p><span>可多选</span></p>
</td></tr>
<tr><td class="table_cell"><span>time_limit</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span>否</span></td><td class="table_cell"><span>JSON结构</span></td><td class="table_cell"><span>使用时段限制，包含以下字段</span></td></tr>
<tr><td class="table_cell"><span>type</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span>否</span></td><td class="table_cell"><span><span>string（24</span><span>）</span></span></td><td class="table_cell"><span>限制类型枚举值：支持填入</span>
<p><span>MONDAY 周一&nbsp;</span></p>
<p><span>TUESDAY 周二&nbsp;</span></p>
<p><span>WEDNESDAY 周三</span></p>
<p><span>&nbsp;THURSDAY 周四&nbsp;</span></p>
<p><span>FRIDAY 周五&nbsp;</span></p>
<p><span>SATURDAY 周六&nbsp;</span></p>
<p><span>SUNDAY 周日&nbsp;</span></p>
<p><span>此处只控制显示，</span></p>
<p><span>不控制实际使用逻辑，不填默认不显示</span></p>
</td></tr>
<tr><td class="table_cell"><span>begin_hour</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span>否</span></td><td class="table_cell"><span>int</span></td><td class="table_cell">
<p><span>当前type类型下的起始时间（小时）</span></p>
<p><span>，如当前结构体内填写了MONDAY，</span></p>
<p><span>此处填写了10，则此处表示周一 10:00可用</span></p>
</td></tr>
<tr><td class="table_cell"><span>begin_minute</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span>否</span></td><td class="table_cell"><span>int</span></td><td class="table_cell">
<p><span>当前type类型下的起始时间（分钟）</span></p>
<p><span>，如当前结构体内填写了MONDAY，</span></p>
<p><span>begin_hour填写10，此处填写了59，</span></p>
<p><span>则此处表示周一 10:59可用</span></p>
</td></tr>
<tr><td class="table_cell"><span>end_hour</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span>否</span></td><td class="table_cell"><span>int</span></td><td class="table_cell">
<p><span>当前type类型下的结束时间（小时）</span></p>
<p><span>，如当前结构体内填写了MONDAY，</span></p>
<p><span>此处填写了20，</span><span>则此处表示周一 10:00-20:00可用</span></p>
</td></tr>
<tr><td class="table_cell"><span>end_minute</span></td><td class="table_cell" colspan="1" rowspan="1" valign="null"><span>否</span></td><td class="table_cell"><span>int</span></td><td class="table_cell">
<p><span>当前type类型下的结束时间（分钟）</span></p>
<p><span>，如当前结构体内填写了MONDAY，</span></p>
<p><span>begin_hour填写10，此处填写了59，</span></p>
<p><span>则此处表示周一 10:59-00:59可用</span></p>
</td></tr>
</tbody>
</table>
<p>
<br></p>
<p>
<br></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p>
<br></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>
<br></span></em></strong></p>
<p><strong><em><span>注意事项：</span></em></strong></p>
<p><em><span>1.高级字段为商户额外展示信息字段，非必填,但是填入某些结构体后，须填充完整方可显示：如填入<span>text_image_list结构体</span></span></em></p>
<p><em><span>时，须同时传入<span>image_url和text，否则也会报错</span>；<br>2.填入时间限制字段（time_limit）,只控制显示，不控制实际使用逻辑，不填默认不显示</span></em></p>
<p><em><span>3.创建卡券时，开发者填入的时间戳须注意时间戳溢出时间，设置的时间戳须早于2038年1月19日</span></em></p>
<p><em><span>4.预存code模式的卡券须设置quantity为0，导入code后方可增加库存</span></em></p>
<p><span>
<br></span></p>
<p><span><strong>返回说明</strong></span></p>
<p><span>数据示例：</span></p>
<pre><span>{<br>&nbsp;&nbsp;&nbsp;"errcode":0,<br>&nbsp;&nbsp;&nbsp;"errmsg":"ok",<br>&nbsp;&nbsp;&nbsp;"card_id":"p1Pj9jr90_SQRaVqYI239Ka1erkI"<br>}
<br></span></pre>
<p>
<br></p>
<table cellspacing="0" cellpadding="2" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>参数名</span></th><th class="table_cell"><span>描述</span></th></tr>
<tr><td class="table_cell"><span>errcode</span></td><td class="table_cell"><span>错误码，0为正常。</span></td></tr>
<tr><td class="table_cell"><span>errmsg</span></td><td class="table_cell"><span>错误信息。</span></td></tr>
<tr><td class="table_cell"><span>card_id</span></td><td class="table_cell"><span>卡券ID。</span></td></tr>
</tbody>
</table>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<h3><span></span></h3>
<p><a name="2.8"></a></p>
<h3><span><strong>2.8 跳转外链带参数说明</strong>
<br></span></h3>
<p><span>为了满足商户基于卡券本身的扩展诉求，允许卡券内页添加url跳转外链。带有的的字段有encrypt_code、card_id。</span></p>
<p>
<br><span>注意事项： encrypt_code为加密码码，需调用</span><a href="http://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1451025239&amp;token=&amp;lang=zh_CN&amp;anchor=2.2" target="_parent" textvalue="解码接口"><span>解码接口</span></a><span>获取真实Code码。 假如指定的url为http://www.qq.com，用户点击时，跳转的url则为：&nbsp;</span><a href="http://www.qq.com/?encrypt_code=ENCRYPT_CODE&amp;card_id=CARDID" rel="nofollow" target="_blank"><span>http://www.qq.com?encrypt_code=ENCRYPT_CODE&amp;card_id=CARDID</span></a></p>
<h1><span></span></h1>
<p><a name="3"></a></p>
<h1><span></span></h1>
<h3><span><strong>3 设置快速买单</strong></span></h3>
<p><span><strong>功能介绍</strong></span></p>
<p><span>微信卡券买单功能是微信卡券的一项新的能力，可以方便消费者买单时，直接录入消费金额，自动使用领到的优惠（券或卡）抵扣，并拉起微信支付快速完成付款。</span></p>
<p><span>微信买单（以下统称微信买单）的好处：</span></p>
<p><span>1、无需商户具备微信支付开发能力，即可完成订单生成，与微信支付打通。</span></p>
<p><span>2、可以通过手机公众号、电脑商户后台，轻松操作收款并查看核销记录，交易对账，并支持离线下载。</span></p>
<p><span>3、支持会员营销，二次营销，如会员卡交易送积分，抵扣积分，买单后赠券等。</span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>开通指引</strong></span></p>
<p><span>步骤一：申请开通内测白名单权限后，开发者可以登录微信公众平台mp.weixin.qq.com，进入【卡券功能】-【卡券概况】，点击查看资料和权限</span></p>
<p><span>步骤二：在高级权限区，有标注微信买单的权限状态，商户先需要开通微信支付，并为收款门店配置核销员，才能激活申请权限。未获得权限时，点击“申请“，开通买单权限</span></p>
<p><span>步骤三：为收款门店配置收款员“或直接点击”卡券核销“，可前往添加门店核销员，便于后续接收结算通知。</span></p>
<h3><span></span></h3>
<p><a name="3.1"></a></p>
<h3><span><strong>3.1 设置买单接口</strong>
<br></span></h3>
<p><span><strong>买单接口说明</strong></span></p>
<p><span>创建卡券之后，开发者可以通过设置微信买单接口设置该card_id支持微信买单功能。值得开发者注意的是，设置买单的card_id必须已经配置了门店，否则会报错。</span></p>
<p>
<br></p>
<p><span><strong>接口调用请求说明</strong></span></p>
<pre><span>HTTP请求方式:&nbsp;POST<br>URL:https://api.weixin.qq.com/card/paycell/set?access_token=TOKEN
<br></span></pre>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>参数说明</strong></span></p>
<table cellspacing="0" cellpadding="2" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>参数</span></th><th class="table_cell"><span>是否必须</span></th><th class="table_cell"><span>说明</span></th></tr>
<tr><td class="table_cell"><span>access_token</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>调用接口凭证</span></td></tr>
<tr><td class="table_cell"><span>POST数据</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>Json数据</span></td></tr>
</tbody>
</table>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><strong>POST数据</strong>
<br></p>
<pre><span>{<br>&nbsp;&nbsp;“card_id”:“ph_gmt7cUVrlRk8swPwx7aDyF-pg“,<br>&nbsp;&nbsp;“is_open”:&nbsp;true<br>}
<br></span></pre>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>字段说明</strong></span></p>
<table cellspacing="0" cellpadding="2" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>字段名</span></th><th class="table_cell"><span>说明</span></th></tr>
<tr><td class="table_cell"><span>card_id</span></td><td class="table_cell"><span>卡券ID。</span></td></tr>
<tr><td class="table_cell"><span>is_open</span></td><td class="table_cell"><span>是否开启买单功能，填true/false</span></td></tr>
</tbody>
</table>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>返回数据</strong></span></p>
<pre><span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;"errcode":0,<br>&nbsp;&nbsp;&nbsp;"errmsg":"ok"<br>&nbsp;}
<br></span></pre>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>字段说明</strong></span></p>
<p>
<br></p>
<table cellspacing="0" cellpadding="2" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>字段名</span></th><th class="table_cell"><span>说明</span></th></tr>
<tr><td class="table_cell"><span>错误码</span></td><td class="table_cell"><span>错误码，0为正常；43008为商户没有开通微信支付权限或者没有在商户后台申请微信买单功能；</span></td></tr>
<tr><td class="table_cell"><span>errmsg</span></td><td class="table_cell"><span>错误信息</span></td></tr>
</tbody>
</table>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p><span>注意事项：</span></p>
<p><span><span label="强调">1.设置快速买单的卡券须支持至少一家有核销员门店，否则无法设置成功；</span></span></p>
<p><span label="强调">2.若该卡券设置了center_url（居中使用跳转链接）,须先将该设置更新为空后再设置自快速买单方可生效。</span></p>
<p>
<br></p>
<h3><span></span></h3>
<p><a name="3.2"></a></p>
<h3><span><strong>3.2 买单事件推送</strong>
<br></span></h3>
<p><span>微信买单完成时，微信会把这个事件推送到开发者填写的URL。 推送XML数据包示例：</span></p>
<pre><span>&lt;xml&gt;<br>&lt;ToUserName&gt;&lt;![CDATA[gh_e2243xxxxxxx]]&gt;&lt;/ToUserName&gt;<br>&lt;FromUserName&gt;&lt;![CDATA[oo2VNuOUuZGMxxxxxxxx]]&gt;&lt;/FromUserName&gt;<br>&lt;CreateTime&gt;1442390947&lt;/CreateTime&gt;<br>&lt;MsgType&gt;&lt;![CDATA[event]]&gt;&lt;/MsgType&gt;<br>&lt;Event&gt;&lt;![CDATA[user_pay_from_pay_cell]]&gt;&lt;/Event&gt;<br>&lt;CardId&gt;&lt;![CDATA[po2VNuCuRo-8sxxxxxxxxxxx]]&gt;&lt;/CardId&gt;<br>&lt;UserCardCode&gt;&lt;![CDATA[38050000000]]&gt;&lt;/UserCardCode&gt;<br>&lt;TransId&gt;&lt;![CDATA[10022403432015000000000]]&gt;&lt;/TransId&gt;<br>&lt;LocationId&gt;291710000&lt;/LocationId&gt;<br>&lt;Fee&gt;&lt;![CDATA[10000]]&gt;&lt;/Fee&gt;<br>&lt;OriginalFee&gt;&lt;![CDATA[10000]]&gt;&nbsp;&lt;/OriginalFee&gt;<br>&lt;/xml&gt;
<br></span></pre>
<table cellspacing="0" cellpadding="4" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>参数</span></th><th class="table_cell"><span>说明</span></th></tr>
<tr><td class="table_cell"><span>ToUserName</span></td><td class="table_cell"><span>开发者微信号。</span></td></tr>
<tr><td class="table_cell"><span>FromUserName</span></td><td class="table_cell"><span>发送方帐号（一个OpenID）。</span></td></tr>
<tr><td class="table_cell"><span>CreateTime</span></td><td class="table_cell"><span>消息创建时间 （整型）。</span></td></tr>
<tr><td class="table_cell"><span>MsgType</span></td><td class="table_cell"><span>消息类型，event。</span></td></tr>
<tr><td class="table_cell"><span>Event</span></td><td class="table_cell"><span>事件类型，User_pay_from_pay_cell(微信买单事件)</span></td></tr>
<tr><td class="table_cell"><span>CardId</span></td><td class="table_cell"><span>卡券ID。</span></td></tr>
<tr><td class="table_cell"><span>UserCardCode</span></td><td class="table_cell"><span>卡券Code码。</span></td></tr>
<tr><td class="table_cell"><span>TransId</span></td><td class="table_cell"><span>微信支付交易订单号（只有使用买单功能核销的卡券才会出现）</span></td></tr>
<tr><td class="table_cell"><span>LocationName</span></td><td class="table_cell"><span>门店名称，当前卡券核销的门店名称（只有通过卡券商户助手和买单核销时才会出现）</span></td></tr>
<tr><td class="table_cell"><span>Fee</span></td><td class="table_cell"><span>实付金额，单位为分</span></td></tr>
<tr><td class="table_cell"><span>OriginalFee</span></td><td class="table_cell"><span>应付金额，单位为分</span></td></tr>
</tbody>
</table>
<p>
<br></p>
<h1><span></span></h1>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>
<p><a name="4"></a><strong><span>4 设置自助核销</span></strong>
<br></p>
<p><span><strong><br>功能介绍</strong></span></p>
<p><span>自助核销与扫码/输码核销互为补充，卡券商户助手通过扫码/输码完成核销的同时，也确保了用券的真实性，适合有强对账需求的商户使用；而自助核销由用户发起，全程由用户操作，适合对账需求不强的商户使用。</span></p>
<p><span>目前，自助核销可能适合以下场景使用：</span></p>
<p><span>1.不允许店员上班期间带手机；</span></p>
<p><span>2.高峰期店内人流量大，扫码/输码核销速度不能满足短时需求；</span></p>
<p><span>3.会议入场，短时有大量核销任务；</span></p>
<h3><span></span></h3>
<p><a name="4.1"></a></p>
<h3><span><strong>4.1 设置自助核销接口</strong>
<br></span></h3>
<p><span><strong>接口说明</strong></span></p>
<p><span>创建卡券之后，开发者可以通过设置微信买单接口设置该card_id支持自助核销功能。值得开发者注意的是，设置自助核销的card_id必须已经配置了门店，否则会报错。</span></p>
<p>
<br></p>
<p><span><strong>接口调用请求说明</strong></span></p>
<pre><span>HTTP请求方式:&nbsp;POST<br>URL:https://api.weixin.qq.com/card/selfconsumecell/set?access_token=TOKEN
<br></span></pre>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>参数说明</strong></span></p>
<table cellspacing="0" cellpadding="2" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>参数</span></th><th class="table_cell"><span>是否必须</span></th><th class="table_cell"><span>说明</span></th></tr>
<tr><td class="table_cell"><span>access_token</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>调用接口凭证</span></td></tr>
<tr><td class="table_cell"><span>POST数据</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>Json数据</span></td></tr>
</tbody>
</table>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>POST数据</strong></span></p>
<pre><span>{<br>&nbsp;&nbsp;“card_id”:“ph_gmt7cUVrlRk8swPwx7aDyF-pg“,<br>&nbsp;&nbsp;“is_open”:&nbsp;true<br>}
<br></span></pre>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>字段说明</strong></span></p>
<table cellspacing="0" cellpadding="2" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>字段名</span></th><th class="table_cell"><span>说明</span></th></tr>
<tr><td class="table_cell"><span>card_id</span></td><td class="table_cell"><span>卡券ID。</span></td></tr>
<tr><td class="table_cell"><span>is_open</span></td><td class="table_cell"><span>是否开启自助核销功能，填true/false，默认为false</span></td></tr>
<tr><td class="table_cell" colspan="1" rowspan="1">
<p><span>need_verify_cod</span></p>
</td><td class="table_cell" colspan="1" rowspan="1"><span>用户核销时是否需要输入验证码，<span>填true/false，</span>默认为false</span></td></tr>
<tr><td class="table_cell" colspan="1" rowspan="1">
<p><span>need_remark_amount</span></p>
</td><td class="table_cell" colspan="1" rowspan="1"><span>用户核销时是否需要备注核销金额，<span>填true/false，</span><span>默认为false</span></span></td></tr>
</tbody>
</table>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>返回数据</strong></span></p>
<pre><span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;"errcode":0,<br>&nbsp;&nbsp;&nbsp;"errmsg":"ok"<br>&nbsp;}
<br></span></pre>
<p><span><strong>
<br></strong></span></p>
<p><span><strong>字段说明</strong></span></p>
<table cellspacing="0" cellpadding="2" align="left" width="700px">
<tbody>
<tr class="firstRow thead"><th class="table_cell"><span>字段名</span></th><th class="table_cell"><span>说明</span></th></tr>
<tr><td class="table_cell"><span>错误码</span></td><td class="table_cell"><span>错误码，0为正常；45046为该card_id已经设置了买单功能，不可变更为自助核销功能，设置冲突</span></td></tr>
<tr><td class="table_cell"><span>errmsg</span></td><td class="table_cell"><span>错误信息</span></td></tr>
</tbody>
</table>
<h1><span></span></h1>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p>
<br></p>
<p><span>注意事项：</span></p>
<p><span><span label="强调">1.设置自助核销的卡券须支持至少一家门店，否则无法设置成功；</span></span></p>
<p><span label="强调">2.若该卡券设置了center_url（居中使用跳转链接）,须先将该设置更新为空后再设置自助核销功能方可生效。</span></p>
<p>
<br></p>
<h1><span><a name="5"></a>5 接口调试工具
<br></span></h1>
<p><span>
<br></span></p>
<p><span>开发者可以通过</span><a href="http://mp.weixin.qq.com/debug/" target="_blank" textvalue="卡券创建接口在线调试工具"><span>卡券创建接口在线调试工具</span></a><span>进行卡券创建HelloWorld。获取到access_token后，开发者可以将要POST的JSON数据贴至接口调试工具中，获得Card_id以进行下一步投放动作。</span></p>
<p><span></span></p>
</div>
</div>
</div>
</div>
</body>
</html>