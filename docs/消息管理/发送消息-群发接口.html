<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link onerror="wx_loaderror(this)" onerror="wx_loaderror(this)" rel="stylesheet" type="text/css" href="https://res.wx.qq.com/mpres/htmledition/style/page/resource/res_iframe2f613f.css"/> 
</head>
<body class="page_doc">
    <div class="main_hd"><h2>高级群发接口</h2></div>
    <div class="main_bd"> 
        <div class="article_box">
            <div class="inner">
                <div class="news_content">
                    <p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><span style="font-size: 14px; font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;"></span>在公众平台网站上，为订阅号提供了每天一条的群发权限，为服务号提供每月（自然月）4条的群发权限。而对于某些具备开发能力的公众号运营者，可以通过高级群发接口，实现更灵活的群发能力。</p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">请注意：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">1、对于认证订阅号，群发接口每天可成功调用1次，此次群发可选择发送给全部用户或某个标签；
2、对于认证服务号虽然开发者使用高级群发接口的每日调用限制为100次，但是用户每月只能接收4条，无论在公众平台网站上，还是使用接口群发，用户每月只能接收4条群发消息，多于4条的群发将对该用户发送失败；
3、具备微信支付权限的公众号，在使用群发接口上传、群发图文消息类型时，可使用&lt;a&gt;标签加入外链；
4、开发者可以使用预览接口校对消息样式和排版，通过预览接口可发送编辑好的消息给指定用户校验效果。</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">群发图文消息的过程如下：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">1、首先，预先将图文消息中需要用到的图片，使用上传图文消息内图片接口，上传成功并获得图片URL
2、上传图文消息素材，需要用到图片时，请使用上一步获取的图片URL
3、使用对用户标签的群发，或对OpenID列表的群发，将图文消息群发出去
4、在上述过程中，如果需要，还可以预览图文消息、查询群发状态，或删除已群发的消息等</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">群发图片、文本等其他消息类型的过程如下：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">1、如果是群发文本消息，则直接根据下面的接口说明进行群发即可
2、如果是群发图片、视频等消息，则需要预先通过素材管理接口准备好mediaID</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">关于群发时使用is_to_all为true使其进入公众号在微信客户端的历史消息列表：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">1、使用is_to_all为true且成功群发，会使得此次群发进入历史消息列表。
2、为防止异常，认证订阅号在一天内，只能使用is_to_all为true进行群发一次，或者在公众平台官网群发（不管本次群发是对全体还是对某个分组）一次。以避免一天内有2条群发进入历史消息列表。
3、类似地，服务号在一个月内，使用is_to_all为true群发的次数，加上公众平台官网群发（不管本次群发是对全体还是对某个分组）的次数，最多只能是4次。
4、设置is_to_all为false时是可以多次群发的，但每个用户只会收到最多4条，且这些群发不会进入历史消息列表。</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">另外，请开发者注意，本接口中所有使用到media_id的地方，现在都可以使用素材管理中的永久素材media_id了。<strong>请但注意，使用同一个素材群发出去的链接是一样的，这意味着，删除某一次群发，会导致整个链接失效。</strong></p><p style="margin: 0px; padding: 0px; font-size: 14px; font-weight: normal; text-shadow: rgb(255, 255, 255) 1px 1px 0px; color: rgb(51, 51, 51); border: 0px; height: 28px; line-height: 28px; text-indent: 10px; text-align: left;">目录</p><p style="text-align: left;"><a href="#1" target="_self">1&nbsp;上传图文消息内的图片获取URL【订阅号与服务号认证后均可用】</a></p><p style="text-align: left;"><a href="#2" target="_self">2&nbsp;上传图文消息素材【订阅号与服务号认证后均可用】</a></p><p style="text-align: left;"><a href="#3" target="_self">3&nbsp;根据标签进行群发【订阅号与服务号认证后均可用】</a></p><p style="text-align: left;"><a href="#4" target="_self">4&nbsp;根据OpenID列表群发【订阅号不可用，服务号认证后可用】</a></p><p style="text-align: left;"><a href="#5" target="_self">5&nbsp;删除群发【订阅号与服务号认证后均可用】</a></p><p style="text-align: left;"><a href="#6" target="_self">6&nbsp;预览接口【订阅号与服务号认证后均可用】</a></p><p style="text-align: left;"><a href="#7" target="_self">7&nbsp;查询群发消息发送状态【订阅号与服务号认证后均可用】</a></p><p style="text-align: left;"><a href="#8" target="_self">8&nbsp;事件推送群发结果</a></p><p><br style="text-align: left;"></p><h3 style="margin-top: 0px; padding: 5px 10px; font-size: 16px; font-weight: normal; text-shadow: rgb(153, 153, 153) 0px 0px 1px; color: rgb(51, 51, 51); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(217, 217, 217); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><span id=".E4.B8.8A.E4.BC.A0.E5.9B.BE.E6.96.87.E6.B6.88.E6.81.AF.E5.86.85.E7.9A.84.E5.9B.BE.E7.89.87.E8.8E.B7.E5.8F.96URL.E3.80.90.E8.AE.A2.E9.98.85.E5.8F.B7.E4.B8.8E.E6.9C.8D.E5.8A.A1.E5.8F.B7.E8.AE.A4.E8.AF.81.E5.90.8E.E5.9D.87.E5.8F.AF.E7.94.A8.E3.80.91"></span></h3><p style="text-align:center"><a name="1"></a></p><h3 style="margin-top: 0px; padding: 5px 10px; font-size: 16px; font-weight: normal; text-shadow: rgb(153, 153, 153) 0px 0px 1px; color: rgb(51, 51, 51); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(217, 217, 217); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><span id=".E4.B8.8A.E4.BC.A0.E5.9B.BE.E6.96.87.E6.B6.88.E6.81.AF.E5.86.85.E7.9A.84.E5.9B.BE.E7.89.87.E8.8E.B7.E5.8F.96URL.E3.80.90.E8.AE.A2.E9.98.85.E5.8F.B7.E4.B8.8E.E6.9C.8D.E5.8A.A1.E5.8F.B7.E8.AE.A4.E8.AF.81.E5.90.8E.E5.9D.87.E5.8F.AF.E7.94.A8.E3.80.91">上传图文消息内的图片获取URL【订阅号与服务号认证后均可用】</span><br></h3><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">请注意，本接口所上传的图片不占用公众号的素材库中图片数量的5000个的限制。图片仅支持jpg/png格式，大小必须在1MB以下。</p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>接口调用请求说明</strong></p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">http请求方式:&nbsp;POST
https://api.weixin.qq.com/cgi-bin/media/uploadimg?access_token=ACCESS_TOKEN
调用示例（使用curl命令，用FORM表单方式上传一个图片）：
curl&nbsp;-F&nbsp;media=@test.jpg&nbsp;"https://api.weixin.qq.com/cgi-bin/media/uploadimg?access_token=ACCESS_TOKEN"</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>参数说明</strong></p><table cellspacing="0" cellpadding="4" align="center" width="640px"><tbody><tr class="firstRow thead"><th style="width: 120px;" class="table_cell">参数</th><th style="width: 120px;" class="table_cell">是否必须</th><th class="table_cell">说明</th></tr><tr><td class="table_cell">access_token</td><td class="table_cell">是</td><td class="table_cell">调用接口凭证</td></tr><tr><td class="table_cell">media</td><td class="table_cell">是</td><td class="table_cell">form-data中媒体文件标识，有filename、filelength、content-type等信息</td></tr></tbody></table><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>返回说明</strong>&nbsp;正常情况下的返回结果为：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;&nbsp;"url":&nbsp;&nbsp;"http://mmbiz.qpic.cn/mmbiz/gLO17UPS6FS2xsypf378iaNhWacZ1G1UplZYWEYfwvuU6Ont96b1roYs&nbsp;CNFwaRrSaKTPCUdBK9DgEHicsKwWCBRQ/0"
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">其中url就是上传图片的URL，可用于后续群发中，放置到图文消息中。</p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">错误时微信会返回错误码等信息，请根据错误码查询错误信息</p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; background-color: rgb(255, 255, 255);"><br style="text-align: left;"></p><h3 style="margin-top: 0px; padding: 5px 10px; font-size: 16px; font-weight: normal; text-shadow: rgb(153, 153, 153) 0px 0px 1px; color: rgb(51, 51, 51); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(217, 217, 217); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><span id=".E4.B8.8A.E4.BC.A0.E5.9B.BE.E6.96.87.E6.B6.88.E6.81.AF.E7.B4.A0.E6.9D.90.E3.80.90.E8.AE.A2.E9.98.85.E5.8F.B7.E4.B8.8E.E6.9C.8D.E5.8A.A1.E5.8F.B7.E8.AE.A4.E8.AF.81.E5.90.8E.E5.9D.87.E5.8F.AF.E7.94.A8.E3.80.91"></span></h3><p style="text-align:center"><a name="2"></a></p><h3 style="margin-top: 0px; padding: 5px 10px; font-size: 16px; font-weight: normal; text-shadow: rgb(153, 153, 153) 0px 0px 1px; color: rgb(51, 51, 51); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(217, 217, 217); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><span id=".E4.B8.8A.E4.BC.A0.E5.9B.BE.E6.96.87.E6.B6.88.E6.81.AF.E7.B4.A0.E6.9D.90.E3.80.90.E8.AE.A2.E9.98.85.E5.8F.B7.E4.B8.8E.E6.9C.8D.E5.8A.A1.E5.8F.B7.E8.AE.A4.E8.AF.81.E5.90.8E.E5.9D.87.E5.8F.AF.E7.94.A8.E3.80.91">上传图文消息素材【订阅号与服务号认证后均可用】</span><br></h3><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>接口调用请求说明</strong></p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">http请求方式:&nbsp;POST
https://api.weixin.qq.com/cgi-bin/media/uploadnews?access_token=ACCESS_TOKEN</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>POST数据说明</strong></p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">POST数据示例如下：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"articles":&nbsp;[
		&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"thumb_media_id":"qI6_Ze_6PtV7svjolgs-rN6stStuHIjs9_DidOHaj0Q-mwvBelOXCFZiq2OsIU-p",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"author":"xxx",
			&nbsp;"title":"Happy&nbsp;Day",
			&nbsp;"content_source_url":"www.qq.com",
			&nbsp;"content":"content",
			&nbsp;"digest":"digest",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"show_cover_pic":1
		&nbsp;},
		&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"thumb_media_id":"qI6_Ze_6PtV7svjolgs-rN6stStuHIjs9_DidOHaj0Q-mwvBelOXCFZiq2OsIU-p",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"author":"xxx",
			&nbsp;"title":"Happy&nbsp;Day",
			&nbsp;"content_source_url":"www.qq.com",
			&nbsp;"content":"content",
			&nbsp;"digest":"digest",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"show_cover_pic":0
		&nbsp;}
&nbsp;&nbsp;&nbsp;]
}</pre><table cellspacing="0" cellpadding="4" align="center" width="640px"><tbody><tr class="firstRow thead"><th style="width: 120px;" class="table_cell">参数</th><th style="width: 120px;" class="table_cell">是否必须</th><th class="table_cell">说明</th></tr><tr><td class="table_cell">Articles</td><td class="table_cell">是</td><td class="table_cell">图文消息，一个图文消息支持1到8条图文</td></tr><tr><td class="table_cell">thumb_media_id</td><td class="table_cell">是</td><td class="table_cell">图文消息缩略图的media_id，可以在基础支持-上传多媒体文件接口中获得</td></tr><tr><td class="table_cell">author</td><td class="table_cell">否</td><td class="table_cell">图文消息的作者</td></tr><tr><td class="table_cell">title</td><td class="table_cell">是</td><td class="table_cell">图文消息的标题</td></tr><tr><td class="table_cell">content_source_url</td><td class="table_cell">否</td><td class="table_cell">在图文消息页面点击“阅读原文”后的页面，受安全限制，如需跳转Appstore，可以使用itun.es或appsto.re的短链服务，并在短链后增加 #wechat_redirect 后缀。</td></tr><tr><td class="table_cell">content</td><td class="table_cell">是</td><td class="table_cell">图文消息页面的内容，支持HTML标签。具备微信支付权限的公众号，可以使用a标签，其他公众号不能使用</td></tr><tr><td class="table_cell">digest</td><td class="table_cell">否</td><td class="table_cell">图文消息的描述</td></tr><tr><td class="table_cell">show_cover_pic</td><td class="table_cell">否</td><td class="table_cell">是否显示封面，1为显示，0为不显示</td></tr></tbody></table><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>返回说明</strong></p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">返回数据示例（正确时的JSON返回结果）：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"type":"news",
&nbsp;&nbsp;&nbsp;"media_id":"CsEf3ldqkAYJAU6EJeIkStVDSvffUJ54vqbThMgplD-VJXXof6ctX5fI6-aYyUiQ",
&nbsp;&nbsp;&nbsp;"created_at":1391857799
}</pre><table cellspacing="0" cellpadding="4" align="center" width="640px"><tbody><tr class="firstRow thead"><th style="width: 240px;" class="table_cell">参数</th><th class="table_cell">说明</th></tr><tr><td class="table_cell">type</td><td class="table_cell">媒体文件类型，分别有图片（image）、语音（voice）、视频（video）和缩略图（thumb），图文消息（news）</td></tr><tr><td class="table_cell">media_id</td><td class="table_cell">媒体文件/图文消息上传后获取的唯一标识</td></tr><tr><td class="table_cell">created_at</td><td class="table_cell">媒体文件上传时间</td></tr></tbody></table><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">错误时微信会返回错误码等信息，请根据错误码查询错误信息</p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; background-color: rgb(255, 255, 255);"><br style="text-align: left;"></p><h3 style="margin-top: 0px; padding: 5px 10px; font-size: 16px; font-weight: normal; text-shadow: rgb(153, 153, 153) 0px 0px 1px; color: rgb(51, 51, 51); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(217, 217, 217); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><span id=".E6.A0.B9.E6.8D.AE.E5.88.86.E7.BB.84.E8.BF.9B.E8.A1.8C.E7.BE.A4.E5.8F.91.E3.80.90.E8.AE.A2.E9.98.85.E5.8F.B7.E4.B8.8E.E6.9C.8D.E5.8A.A1.E5.8F.B7.E8.AE.A4.E8.AF.81.E5.90.8E.E5.9D.87.E5.8F.AF.E7.94.A8.E3.80.91"></span></h3><p style="text-align:center"><a name="3"></a></p><h3 style="margin-top: 0px; padding: 5px 10px; font-size: 16px; font-weight: normal; text-shadow: rgb(153, 153, 153) 0px 0px 1px; color: rgb(51, 51, 51); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(217, 217, 217); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><span id=".E6.A0.B9.E6.8D.AE.E5.88.86.E7.BB.84.E8.BF.9B.E8.A1.8C.E7.BE.A4.E5.8F.91.E3.80.90.E8.AE.A2.E9.98.85.E5.8F.B7.E4.B8.8E.E6.9C.8D.E5.8A.A1.E5.8F.B7.E8.AE.A4.E8.AF.81.E5.90.8E.E5.9D.87.E5.8F.AF.E7.94.A8.E3.80.91">根据标签进行群发【订阅号与服务号认证后均可用】</span><br></h3><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>接口调用请求说明</strong></p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">http请求方式:&nbsp;POST
https://api.weixin.qq.com/cgi-bin/message/mass/sendall?access_token=ACCESS_TOKEN</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>POST数据说明</strong></p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">POST数据示例如下：</p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">图文消息（注意图文消息的media_id需要通过上述方法来得到）：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"filter":{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"is_to_all":false,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"tag_id":2
&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;"mpnews":{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"media_id":"123dsdajkasd231jhksad"
&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"mpnews"
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">文本：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"filter":{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"is_to_all":false,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"tag_id":2
&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;"text":{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"content":"CONTENT"
&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"text"
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">语音（注意此处media_id需通过基础支持中的上传下载多媒体文件来得到）：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"filter":{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"is_to_all":false,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"tag_id":2
&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;"voice":{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"media_id":"123dsdajkasd231jhksad"
&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"voice"
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">图片（注意此处media_id需通过基础支持中的上传下载多媒体文件来得到）：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"filter":{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"is_to_all":false,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"tag_id":2
&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;"image":{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"media_id":"123dsdajkasd231jhksad"
&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"image"
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">视频</p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">请注意，此处视频的media_id需通过POST请求到下述接口特别地得到：<a href="https://file.api.weixin.qq.com/cgi-bin/media/uploadvideo?access_token=ACCESS_TOKEN" rel="nofollow" target="_blank" style="color: rgb(54, 103, 153); text-decoration: none;">https://file.api.weixin.qq.com/cgi-bin/media/uploadvideo?access_token=ACCESS_TOKEN</a>&nbsp;POST数据如下（此处media_id需通过基础支持中的上传下载多媒体文件来得到）：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;"media_id":&nbsp;"rF4UdIMfYK3efUfyoddYRMU50zMiRmmt_l0kszupYh_SzrcW5Gaheq05p_lHuOTQ",
&nbsp;&nbsp;"title":&nbsp;"TITLE",
&nbsp;&nbsp;"description":&nbsp;"Description"
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">返回将为</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;"type":"video",
&nbsp;&nbsp;"media_id":"IhdaAQXuvJtGzwwc0abfXnzeezfO0NgPK6AQYShD8RQYMTtfzbLdBIQkQziv2XJc",
&nbsp;&nbsp;"created_at":1398848981
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">然后，POST下述数据（将media_id改为上一步中得到的media_id），即可进行发送</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"filter":{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"is_to_all":false,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"tag_id":2
&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;"mpvideo":{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"media_id":"IhdaAQXuvJtGzwwc0abfXnzeezfO0NgPK6AQYShD8RQYMTtfzbLdBIQkQziv2XJc"
&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"mpvideo"
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">卡券消息（注意图文消息的media_id需要通过上述方法来得到）：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"filter":{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"is_to_all":false,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"tag_id":"2"
&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;"wxcard":{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"card_id":"123dsdajkasd231jhksad"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;"msgtype":"wxcard"
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; background-color: rgb(255, 255, 255);"><br style="text-align: left;"></p><table cellspacing="0" cellpadding="4" align="center" width="640px"><tbody><tr class="firstRow thead"><th style="width: 120px;" class="table_cell">参数</th><th style="width: 120px;" class="table_cell">是否必须</th><th class="table_cell">说明</th></tr><tr><td class="table_cell">filter</td><td class="table_cell">是</td><td class="table_cell">用于设定图文消息的接收者</td></tr><tr><td class="table_cell">is_to_all</td><td class="table_cell">否</td><td class="table_cell">用于设定是否向全部用户发送，值为true或false，选择true该消息群发给所有用户，选择false可根据tag_id发送给指定群组的用户</td></tr><tr><td class="table_cell">tag_id</td><td class="table_cell">否</td><td class="table_cell">群发到的标签的tag_id，参加用户管理中用户分组接口，若is_to_all值为true，可不填写tag_id</td></tr><tr><td class="table_cell">mpnews</td><td class="table_cell">是</td><td class="table_cell">用于设定即将发送的图文消息</td></tr><tr><td class="table_cell">media_id</td><td class="table_cell">是</td><td class="table_cell">用于群发的消息的media_id</td></tr><tr><td class="table_cell">msgtype</td><td class="table_cell">是</td><td class="table_cell">群发的消息类型，图文消息为mpnews，文本消息为text，语音为voice，音乐为music，图片为image，视频为video，卡券为wxcard</td></tr><tr><td class="table_cell">title</td><td class="table_cell">否</td><td class="table_cell">消息的标题</td></tr><tr><td class="table_cell">description</td><td class="table_cell">否</td><td class="table_cell">消息的描述</td></tr><tr><td class="table_cell">thumb_media_id</td><td class="table_cell">是</td><td class="table_cell">视频缩略图的媒体ID</td></tr></tbody></table><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>返回说明</strong></p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">返回数据示例（正确时的JSON返回结果）：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"errcode":0,
&nbsp;&nbsp;&nbsp;"errmsg":"send&nbsp;job&nbsp;submission&nbsp;success",
&nbsp;&nbsp;&nbsp;"msg_id":34182,&nbsp;
&nbsp;&nbsp;&nbsp;"msg_data_id":&nbsp;206227730
}</pre><table cellspacing="0" cellpadding="4" align="center" width="640px"><tbody><tr class="firstRow thead"><th style="width: 240px;" class="table_cell">参数</th><th class="table_cell">说明</th></tr><tr><td class="table_cell">type</td><td class="table_cell">媒体文件类型，分别有图片（image）、语音（voice）、视频（video）和缩略图（thumb），图文消息为news</td></tr><tr><td class="table_cell">errcode</td><td class="table_cell">错误码</td></tr><tr><td class="table_cell">errmsg</td><td class="table_cell">错误信息</td></tr><tr><td class="table_cell">msg_id</td><td class="table_cell">消息发送任务的ID</td></tr><tr><td class="table_cell">msg_data_id</td><td class="table_cell">消息的数据ID，该字段只有在群发图文消息时，才会出现。可以用于在图文分析数据接口中，获取到对应的图文消息的数据，是图文分析数据接口中的msgid字段中的前半部分，详见图文分析数据接口中的msgid字段的介绍。</td></tr></tbody></table><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">请注意：<strong>在返回成功时，意味着群发任务提交成功，并不意味着此时群发已经结束</strong>，所以，仍有可能在后续的发送过程中出现异常情况导致用户未收到消息，如消息有时会进行审核、服务器不稳定等。此外，<strong>群发任务一般需要较长的时间才能全部发送完毕，请耐心等待</strong>。</p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">错误时微信会返回错误码等信息，请根据错误码查询错误信息</p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; background-color: rgb(255, 255, 255);"><br style="text-align: left;"></p><h3 style="margin-top: 0px; padding: 5px 10px; font-size: 16px; font-weight: normal; text-shadow: rgb(153, 153, 153) 0px 0px 1px; color: rgb(51, 51, 51); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(217, 217, 217); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><span id=".E6.A0.B9.E6.8D.AEOpenID.E5.88.97.E8.A1.A8.E7.BE.A4.E5.8F.91.E3.80.90.E8.AE.A2.E9.98.85.E5.8F.B7.E4.B8.8D.E5.8F.AF.E7.94.A8.EF.BC.8C.E6.9C.8D.E5.8A.A1.E5.8F.B7.E8.AE.A4.E8.AF.81.E5.90.8E.E5.8F.AF.E7.94.A8.E3.80.91"></span></h3><p style="text-align:center"><a name="4"></a></p><h3 style="margin-top: 0px; padding: 5px 10px; font-size: 16px; font-weight: normal; text-shadow: rgb(153, 153, 153) 0px 0px 1px; color: rgb(51, 51, 51); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(217, 217, 217); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><span id=".E6.A0.B9.E6.8D.AEOpenID.E5.88.97.E8.A1.A8.E7.BE.A4.E5.8F.91.E3.80.90.E8.AE.A2.E9.98.85.E5.8F.B7.E4.B8.8D.E5.8F.AF.E7.94.A8.EF.BC.8C.E6.9C.8D.E5.8A.A1.E5.8F.B7.E8.AE.A4.E8.AF.81.E5.90.8E.E5.8F.AF.E7.94.A8.E3.80.91">根据OpenID列表群发【订阅号不可用，服务号认证后可用】</span><br></h3><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>接口调用请求说明</strong></p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">http请求方式:&nbsp;POST
https://api.weixin.qq.com/cgi-bin/message/mass/send?access_token=ACCESS_TOKEN</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>POST数据说明</strong></p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">POST数据示例如下：</p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">图文消息（注意图文消息的media_id需要通过上述方法来得到）：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"touser":[
&nbsp;&nbsp;&nbsp;&nbsp;"OPENID1",
&nbsp;&nbsp;&nbsp;&nbsp;"OPENID2"
&nbsp;&nbsp;&nbsp;],
&nbsp;&nbsp;&nbsp;"mpnews":{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"media_id":"123dsdajkasd231jhksad"
&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"mpnews"
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">文本：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"touser":[
&nbsp;&nbsp;&nbsp;&nbsp;"OPENID1",
&nbsp;&nbsp;&nbsp;&nbsp;"OPENID2"
&nbsp;&nbsp;&nbsp;],
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":&nbsp;"text",
&nbsp;&nbsp;&nbsp;&nbsp;"text":&nbsp;{&nbsp;"content":&nbsp;"hello&nbsp;from&nbsp;boxer."}
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">语音：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"touser":[
&nbsp;&nbsp;&nbsp;&nbsp;"OPENID1",
&nbsp;&nbsp;&nbsp;&nbsp;"OPENID2"
&nbsp;&nbsp;&nbsp;],
&nbsp;&nbsp;&nbsp;"voice":{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"media_id":"mLxl6paC7z2Tl-NJT64yzJve8T9c8u9K2x-Ai6Ujd4lIH9IBuF6-2r66mamn_gIT"
&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"voice"
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">图片：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"touser":[
&nbsp;&nbsp;&nbsp;&nbsp;"OPENID1",
&nbsp;&nbsp;&nbsp;&nbsp;"OPENID2"
&nbsp;&nbsp;&nbsp;],
&nbsp;&nbsp;&nbsp;"image":{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"media_id":"BTgN0opcW3Y5zV_ZebbsD3NFKRWf6cb7OPswPi9Q83fOJHK2P67dzxn11Cp7THat"
&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"image"
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">视频：</p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">请注意，此处视频的media_id需通过POST请求到下述接口特别地得到：&nbsp;https://api.weixin.qq.com/cgi-bin/media/uploadvideo?access_token=ACCESS_TOKEN&nbsp;POST数据如下（此处media_id需通过基础支持中的上传下载多媒体文件来得到）：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;"media_id":&nbsp;"rF4UdIMfYK3efUfyoddYRMU50zMiRmmt_l0kszupYh_SzrcW5Gaheq05p_lHuOTQ",
&nbsp;&nbsp;"title":&nbsp;"TITLE",
&nbsp;&nbsp;"description":&nbsp;"Description"
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">返回将为</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;"type":"video",
&nbsp;&nbsp;"media_id":"IhdaAQXuvJtGzwwc0abfXnzeezfO0NgPK6AQYShD8RQYMTtfzbLdBIQkQziv2XJc",
&nbsp;&nbsp;"created_at":1398848981
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">然后，POST下述数据（将media_id改为上一步中得到的media_id），即可进行发送</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"touser":[
&nbsp;&nbsp;&nbsp;&nbsp;"OPENID1",
&nbsp;&nbsp;&nbsp;&nbsp;"OPENID2"
&nbsp;&nbsp;&nbsp;],
&nbsp;&nbsp;&nbsp;"mpvideo":{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"media_id":"123dsdajkasd231jhksad",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"title":"TITLE",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"description":"DESCRIPTION"
&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"mpvideo"
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">卡券：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"touser":[
&nbsp;&nbsp;&nbsp;&nbsp;"OPENID1",
&nbsp;&nbsp;&nbsp;&nbsp;"OPENID2"
&nbsp;&nbsp;&nbsp;],
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"wxcard":&nbsp;{"card_id":"123dsdajkasd231jhksad"}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"wxcard"
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; background-color: rgb(255, 255, 255);"><br style="text-align: left;"></p><table cellspacing="0" cellpadding="4" align="center" width="640px"><tbody><tr class="firstRow thead"><th style="width: 120px;" class="table_cell">参数</th><th style="width: 120px;" class="table_cell">是否必须</th><th class="table_cell">说明</th></tr><tr><td class="table_cell">touser</td><td class="table_cell">是</td><td class="table_cell">填写图文消息的接收者，一串OpenID列表，OpenID最少2个，最多10000个</td></tr><tr><td class="table_cell">mpnews</td><td class="table_cell">是</td><td class="table_cell">用于设定即将发送的图文消息</td></tr><tr><td class="table_cell">media_id</td><td class="table_cell">是</td><td class="table_cell">用于群发的图文消息的media_id</td></tr><tr><td class="table_cell">msgtype</td><td class="table_cell">是</td><td class="table_cell">群发的消息类型，图文消息为mpnews，文本消息为text，语音为voice，音乐为music，图片为image，视频为video，卡券为wxcard</td></tr><tr><td class="table_cell">title</td><td class="table_cell">否</td><td class="table_cell">消息的标题</td></tr><tr><td class="table_cell">description</td><td class="table_cell">否</td><td class="table_cell">消息的描述</td></tr><tr><td class="table_cell">thumb_media_id</td><td class="table_cell">是</td><td class="table_cell">视频缩略图的媒体ID</td></tr></tbody></table><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>返回说明</strong></p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">返回数据示例（正确时的JSON返回结果）：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"errcode":0,
&nbsp;&nbsp;&nbsp;"errmsg":"send&nbsp;job&nbsp;submission&nbsp;success",
&nbsp;&nbsp;&nbsp;"msg_id":34182,&nbsp;
&nbsp;&nbsp;&nbsp;"msg_data_id":&nbsp;206227730
}</pre><table cellspacing="0" cellpadding="4" align="center" width="640px"><tbody><tr class="firstRow thead"><th style="width: 240px;" class="table_cell">参数</th><th class="table_cell">说明</th></tr><tr><td class="table_cell">type</td><td class="table_cell">媒体文件类型，分别有图片（image）、语音（voice）、视频（video）和缩略图（thumb），次数为news，即图文消息</td></tr><tr><td class="table_cell">errcode</td><td class="table_cell">错误码</td></tr><tr><td class="table_cell">errmsg</td><td class="table_cell">错误信息</td></tr><tr><td class="table_cell">msg_id</td><td class="table_cell">消息发送任务的ID</td></tr><tr><td class="table_cell">msg_data_id</td><td class="table_cell">消息的数据ID，，该字段只有在群发图文消息时，才会出现。可以用于在图文分析数据接口中，获取到对应的图文消息的数据，是图文分析数据接口中的msgid字段中的前半部分，详见图文分析数据接口中的msgid字段的介绍。</td></tr></tbody></table><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">请注意：<strong>在返回成功时，意味着群发任务提交成功，并不意味着此时群发已经结束</strong>，所以，仍有可能在后续的发送过程中出现异常情况导致用户未收到消息，如消息有时会进行审核、服务器不稳定等。此外，<strong>群发任务一般需要较长的时间才能全部发送完毕，请耐心等待</strong>。</p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">错误时微信会返回错误码等信息，请根据错误码查询错误信息</p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; background-color: rgb(255, 255, 255);"><br style="text-align: left;"></p><h3 style="margin-top: 0px; padding: 5px 10px; font-size: 16px; font-weight: normal; text-shadow: rgb(153, 153, 153) 0px 0px 1px; color: rgb(51, 51, 51); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(217, 217, 217); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><span id=".E5.88.A0.E9.99.A4.E7.BE.A4.E5.8F.91.E3.80.90.E8.AE.A2.E9.98.85.E5.8F.B7.E4.B8.8E.E6.9C.8D.E5.8A.A1.E5.8F.B7.E8.AE.A4.E8.AF.81.E5.90.8E.E5.9D.87.E5.8F.AF.E7.94.A8.E3.80.91"></span></h3><p style="text-align:center"><a name="5"></a></p><h3 style="margin-top: 0px; padding: 5px 10px; font-size: 16px; font-weight: normal; text-shadow: rgb(153, 153, 153) 0px 0px 1px; color: rgb(51, 51, 51); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(217, 217, 217); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><span id=".E5.88.A0.E9.99.A4.E7.BE.A4.E5.8F.91.E3.80.90.E8.AE.A2.E9.98.85.E5.8F.B7.E4.B8.8E.E6.9C.8D.E5.8A.A1.E5.8F.B7.E8.AE.A4.E8.AF.81.E5.90.8E.E5.9D.87.E5.8F.AF.E7.94.A8.E3.80.91">删除群发【订阅号与服务号认证后均可用】</span><br></h3><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">群发之后，随时可以通过该接口删除群发。</p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>接口调用请求说明</strong></p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">http请求方式:&nbsp;POST
https://api.weixin.qq.com/cgi-bin/message/mass/delete?access_token=ACCESS_TOKEN</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>POST数据说明</strong></p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">POST数据示例如下：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"msg_id":30124
}</pre><table cellspacing="0" cellpadding="4" align="center" width="640px"><tbody><tr class="firstRow thead"><th style="width: 120px;" class="table_cell">参数</th><th style="width: 120px;" class="table_cell">是否必须</th><th class="table_cell">说明</th></tr><tr><td class="table_cell">msg_id</td><td class="table_cell">是</td><td class="table_cell">发送出去的消息ID</td></tr></tbody></table><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">请注意：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">1、只有已经发送成功的消息才能删除
2、删除消息是将消息的图文详情页失效，已经收到的用户，还是能在其本地看到消息卡片。
3、删除群发消息只能删除图文消息和视频消息，其他类型的消息一经发送，无法删除。
4、如果多次群发发送的是一个图文消息，那么删除其中一次群发，就会删除掉这个图文消息也，导致所有群发都失效</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>返回说明</strong></p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">返回数据示例（正确时的JSON返回结果）：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"errcode":0,
&nbsp;&nbsp;&nbsp;"errmsg":"ok"
}</pre><table cellspacing="0" cellpadding="4" align="center" width="640px"><tbody><tr class="firstRow thead"><th style="width: 240px;" class="table_cell">参数</th><th class="table_cell">说明</th></tr><tr><td class="table_cell">errcode</td><td class="table_cell">错误码</td></tr><tr><td class="table_cell">errmsg</td><td class="table_cell">错误信息</td></tr></tbody></table><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">错误时微信会返回错误码等信息，请根据错误码查询错误信息</p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; background-color: rgb(255, 255, 255);"><br style="text-align: left;"></p><h3 style="margin-top: 0px; padding: 5px 10px; font-size: 16px; font-weight: normal; text-shadow: rgb(153, 153, 153) 0px 0px 1px; color: rgb(51, 51, 51); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(217, 217, 217); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><span id=".E9.A2.84.E8.A7.88.E6.8E.A5.E5.8F.A3.E3.80.90.E8.AE.A2.E9.98.85.E5.8F.B7.E4.B8.8E.E6.9C.8D.E5.8A.A1.E5.8F.B7.E8.AE.A4.E8.AF.81.E5.90.8E.E5.9D.87.E5.8F.AF.E7.94.A8.E3.80.91"></span></h3><p style="text-align:center"><a name="6"></a></p><h3 style="margin-top: 0px; padding: 5px 10px; font-size: 16px; font-weight: normal; text-shadow: rgb(153, 153, 153) 0px 0px 1px; color: rgb(51, 51, 51); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(217, 217, 217); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><span id=".E9.A2.84.E8.A7.88.E6.8E.A5.E5.8F.A3.E3.80.90.E8.AE.A2.E9.98.85.E5.8F.B7.E4.B8.8E.E6.9C.8D.E5.8A.A1.E5.8F.B7.E8.AE.A4.E8.AF.81.E5.90.8E.E5.9D.87.E5.8F.AF.E7.94.A8.E3.80.91">预览接口【订阅号与服务号认证后均可用】</span><br></h3><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">开发者可通过该接口发送消息给指定用户，在手机端查看消息的样式和排版。<strong>为了满足第三方平台开发者的需求，在保留对openID预览能力的同时，增加了对指定微信号发送预览的能力，但该能力每日调用次数有限制（100次），请勿滥用。</strong></p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>接口调用请求说明</strong></p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">http请求方式:&nbsp;POST
https://api.weixin.qq.com/cgi-bin/message/mass/preview?access_token=ACCESS_TOKEN</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>POST数据说明</strong></p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">POST数据示例如下：</p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">图文消息（其中media_id与根据分组群发中的media_id相同）：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"touser":"OPENID",&nbsp;
&nbsp;&nbsp;&nbsp;"mpnews":{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"media_id":"123dsdajkasd231jhksad"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;"msgtype":"mpnews"&nbsp;
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">文本：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;"touser":"OPENID",
&nbsp;&nbsp;&nbsp;&nbsp;"text":{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"content":"CONTENT"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"text"
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">语音（其中media_id与根据分组群发中的media_id相同）：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;&nbsp;"touser":"OPENID",
&nbsp;&nbsp;&nbsp;&nbsp;"voice":{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"media_id":"123dsdajkasd231jhksad"
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"voice"&nbsp;
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">图片（其中media_id与根据分组群发中的media_id相同）：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;&nbsp;"touser":"OPENID",
&nbsp;&nbsp;&nbsp;&nbsp;"image":{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"media_id":"123dsdajkasd231jhksad"
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"image"&nbsp;
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">视频（其中media_id与根据分组群发中的media_id相同）：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;&nbsp;"touser":"OPENID",
&nbsp;&nbsp;&nbsp;&nbsp;"mpvideo":{&nbsp;&nbsp;"media_id":"IhdaAQXuvJtGzwwc0abfXnzeezfO0NgPK6AQYShD8RQYMTtfzbLdBIQkQziv2XJc",&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"mpvideo"&nbsp;
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">卡券：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{&nbsp;"touser":"OPENID",&nbsp;
&nbsp;&nbsp;"wxcard":{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"card_id":"123dsdajkasd231jhksad",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"card_ext":&nbsp;"{\"code\":\"\",\"openid\":\"\",\"timestamp\":\"1402057159\",\"signature\":\"017bb17407c8e0058a66d72dcc61632b70f511ad\"}"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;
&nbsp;&nbsp;"msgtype":"wxcard"&nbsp;
}</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">请注意，上述JSON数据中的touser字段都可以改为towxname，这样就可以针对微信号进行预览（而非openID），towxname和touser同时赋值时，以towxname优先。修改后JSON数据如下（以图文消息为例）： 图文消息：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"towxname":"示例的微信号",&nbsp;
&nbsp;&nbsp;&nbsp;"mpnews":{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"media_id":"123dsdajkasd231jhksad"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;"msgtype":"mpnews"&nbsp;
}</pre><table cellspacing="0" cellpadding="4" align="center" width="640px"><tbody><tr class="firstRow thead"><th style="width: 120px;" class="table_cell">参数</th><th class="table_cell">说明</th></tr><tr><td class="table_cell">touser</td><td class="table_cell">接收消息用户对应该公众号的openid，该字段也可以改为towxname，以实现对微信号的预览</td></tr><tr><td class="table_cell">msgtype</td><td class="table_cell">群发的消息类型，图文消息为mpnews，文本消息为text，语音为voice，音乐为music，图片为image，视频为video，卡券为wxcard</td></tr><tr><td class="table_cell">media_id</td><td class="table_cell">用于群发的消息的media_id</td></tr><tr><td class="table_cell">content</td><td class="table_cell">发送文本消息时文本的内容</td></tr></tbody></table><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>返回说明</strong></p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">返回数据示例（正确时的JSON返回结果）：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"errcode":0,
&nbsp;&nbsp;&nbsp;"errmsg":"preview&nbsp;success",
&nbsp;&nbsp;&nbsp;"msg_id":34182
}</pre><p><br></p><table cellspacing="0" cellpadding="4" align="center" width="640px"><tbody><tr class="firstRow thead"><th style="width: 240px;" class="table_cell">参数</th><th class="table_cell">说明</th></tr><tr><td class="table_cell">errcode</td><td class="table_cell">错误码</td></tr><tr><td class="table_cell">errmsg</td><td class="table_cell">错误信息</td></tr><tr><td class="table_cell">msg_id</td><td class="table_cell">消息ID</td></tr></tbody></table><p><br style="text-align: left;"></p><h3 style="margin-top: 0px; padding: 5px 10px; font-size: 16px; font-weight: normal; text-shadow: rgb(153, 153, 153) 0px 0px 1px; color: rgb(51, 51, 51); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(217, 217, 217); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><span id=".E6.9F.A5.E8.AF.A2.E7.BE.A4.E5.8F.91.E6.B6.88.E6.81.AF.E5.8F.91.E9.80.81.E7.8A.B6.E6.80.81.E3.80.90.E8.AE.A2.E9.98.85.E5.8F.B7.E4.B8.8E.E6.9C.8D.E5.8A.A1.E5.8F.B7.E8.AE.A4.E8.AF.81.E5.90.8E.E5.9D.87.E5.8F.AF.E7.94.A8.E3.80.91"></span></h3><p style="text-align:center"><a name="7"></a></p><h3 style="margin-top: 0px; padding: 5px 10px; font-size: 16px; font-weight: normal; text-shadow: rgb(153, 153, 153) 0px 0px 1px; color: rgb(51, 51, 51); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(217, 217, 217); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><span id=".E6.9F.A5.E8.AF.A2.E7.BE.A4.E5.8F.91.E6.B6.88.E6.81.AF.E5.8F.91.E9.80.81.E7.8A.B6.E6.80.81.E3.80.90.E8.AE.A2.E9.98.85.E5.8F.B7.E4.B8.8E.E6.9C.8D.E5.8A.A1.E5.8F.B7.E8.AE.A4.E8.AF.81.E5.90.8E.E5.9D.87.E5.8F.AF.E7.94.A8.E3.80.91">查询群发消息发送状态【订阅号与服务号认证后均可用】</span><br></h3><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>接口调用请求说明</strong></p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">http请求方式:&nbsp;POST
https://api.weixin.qq.com/cgi-bin/message/mass/get?access_token=ACCESS_TOKEN</pre><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>POST数据说明</strong></p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">POST数据示例如下：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;"msg_id":&nbsp;"201053012"
}</pre><table cellspacing="0" cellpadding="4" align="center" width="640px"><tbody><tr class="firstRow thead"><th style="width: 120px;" class="table_cell">参数</th><th class="table_cell">说明</th></tr><tr><td class="table_cell">msg_id</td><td class="table_cell">群发消息后返回的消息id</td></tr></tbody></table><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>返回说明</strong></p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">返回数据示例（正确时的JSON返回结果）：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"msg_id":201053012,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"msg_status":"SEND_SUCCESS"
}</pre><table cellspacing="0" cellpadding="4" align="center" width="640px"><tbody><tr class="firstRow thead"><th style="width: 240px;" class="table_cell">参数</th><th class="table_cell">说明</th></tr><tr><td class="table_cell">msg_id</td><td class="table_cell">群发消息后返回的消息id</td></tr><tr><td class="table_cell">msg_status</td><td class="table_cell">消息发送后的状态，SEND_SUCCESS表示发送成功</td></tr></tbody></table><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; background-color: rgb(255, 255, 255);"><br style="text-align: left;"></p><h3 style="margin-top: 0px; padding: 5px 10px; font-size: 16px; font-weight: normal; text-shadow: rgb(153, 153, 153) 0px 0px 1px; color: rgb(51, 51, 51); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(217, 217, 217); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><span id=".E4.BA.8B.E4.BB.B6.E6.8E.A8.E9.80.81.E7.BE.A4.E5.8F.91.E7.BB.93.E6.9E.9C"></span></h3><p style="text-align:center"><a name="8"></a></p><h3 style="margin-top: 0px; padding: 5px 10px; font-size: 16px; font-weight: normal; text-shadow: rgb(153, 153, 153) 0px 0px 1px; color: rgb(51, 51, 51); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(217, 217, 217); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><span id=".E4.BA.8B.E4.BB.B6.E6.8E.A8.E9.80.81.E7.BE.A4.E5.8F.91.E7.BB.93.E6.9E.9C">事件推送群发结果</span><br></h3><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">由于群发任务提交后，群发任务可能在一定时间后才完成，因此，群发接口调用时，仅会给出群发任务是否提交成功的提示，若群发任务提交成功，则在群发任务结束时，会向开发者在公众平台填写的开发者URL（callback URL）推送事件。</p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);"><strong>需要注意，由于群发任务彻底完成需要较长时间，将会在群发任务即将完成的时候，就推送群发结果，此时的推送人数数据将会与实际情形存在一定误差</strong></p><p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', 宋体, Tahoma, Arial; font-size: 14px; white-space: normal; widows: auto; text-align: left; background-color: rgb(255, 255, 255);">推送的XML结构如下（发送成功时）：</p><pre style="font-stretch: normal; font-size: 12px; font-family: 'MicroSoft YaHei', 'Courier New', 'Andale Mono', monospace; padding: 5px 10px; border: 1px solid rgb(204, 204, 204); color: rgb(51, 51, 51); line-height: 20px; white-space: pre-wrap; word-wrap: break-word; border-radius: 3px; margin-left: 10px; widows: auto;">&lt;xml&gt;
&lt;ToUserName&gt;&lt;![CDATA[gh_3e8adccde292]]&gt;&lt;/ToUserName&gt;
&lt;FromUserName&gt;&lt;![CDATA[oR5Gjjl_eiZoUpGozMo7dbBJ362A]]&gt;&lt;/FromUserName&gt;
&lt;CreateTime&gt;1394524295&lt;/CreateTime&gt;
&lt;MsgType&gt;&lt;![CDATA[event]]&gt;&lt;/MsgType&gt;
&lt;Event&gt;&lt;![CDATA[MASSSENDJOBFINISH]]&gt;&lt;/Event&gt;
&lt;MsgID&gt;1988&lt;/MsgID&gt;
&lt;Status&gt;&lt;![CDATA[sendsuccess]]&gt;&lt;/Status&gt;
&lt;TotalCount&gt;100&lt;/TotalCount&gt;
&lt;FilterCount&gt;80&lt;/FilterCount&gt;
&lt;SentCount&gt;75&lt;/SentCount&gt;
&lt;ErrorCount&gt;5&lt;/ErrorCount&gt;
&lt;/xml&gt;</pre><table cellspacing="0" cellpadding="4" align="center" width="640px"><tbody><tr class="firstRow thead"><th style="width: 120px;" class="table_cell">参数</th><th class="table_cell">说明</th></tr><tr><td class="table_cell">ToUserName</td><td class="table_cell">公众号的微信号</td></tr><tr><td class="table_cell">FromUserName</td><td class="table_cell">公众号群发助手的微信号，为mphelper</td></tr><tr><td class="table_cell">CreateTime</td><td class="table_cell">创建时间的时间戳</td></tr><tr><td class="table_cell">MsgType</td><td class="table_cell">消息类型，此处为event</td></tr><tr><td class="table_cell">Event</td><td class="table_cell">事件信息，此处为MASSSENDJOBFINISH</td></tr><tr><td class="table_cell">MsgID</td><td class="table_cell">群发的消息ID</td></tr><tr><td class="table_cell">Status</td><td class="table_cell">群发的结构，为“send success”或“send fail”或“err(num)”。但send success时，也有可能因用户拒收公众号的消息、系统错误等原因造成少量用户接收失败。err(num)是审核失败的具体原因，可能的情况如下：<p style="line-height: 1.5; word-wrap: break-word; margin-left: 10px; margin-right: 10px; text-align: left;">err(10001), //涉嫌广告 err(20001), //涉嫌政治 err(20004), //涉嫌社会 err(20002), //涉嫌色情 err(20006), //涉嫌违法犯罪 err(20008), //涉嫌欺诈 err(20013), //涉嫌版权 err(22000), //涉嫌互推(互相宣传) err(21000), //涉嫌其他</p></td></tr><tr><td class="table_cell">TotalCount</td><td class="table_cell">tag_id下粉丝数；或者openid_list中的粉丝数</td></tr><tr><td class="table_cell">FilterCount</td><td class="table_cell">过滤（过滤是指特定地区、性别的过滤、用户设置拒收的过滤，用户接收已超4条的过滤）后，准备发送的粉丝数，原则上，FilterCount = SentCount + ErrorCount</td></tr><tr><td class="table_cell">SentCount</td><td class="table_cell">发送成功的粉丝数</td></tr><tr><td class="table_cell">ErrorCount</td><td class="table_cell">发送失败的粉丝数</td></tr></tbody></table><p><br style="text-align: left;"></p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>