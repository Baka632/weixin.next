
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link onerror="wx_loaderror(this)" onerror="wx_loaderror(this)" rel="stylesheet" type="text/css" href="https://res.wx.qq.com/mpres/htmledition/style/page/resource/res_iframe2f613f.css"/></head>
<body class="page_doc">
<div class="main_hd"><h2>客服消息</h2>
</div>
<div class="main_bd">
<div class="article_box">
<div class="inner">
<div class="news_content"><p>当用户和公众号产生特定动作的交互时（具体动作列表请见下方说明），微信将会把消息数据推送给开发者，开发者可以在一段时间内（目前修改为48小时）调用客服接口，通过POST一个JSON数据包来发送消息给普通用户。此接口主要用于客服等有人工消息处理环节的功能，方便开发者为用户提供更加优质的服务。</p>
<p>目前允许的动作列表如下（公众平台会根据运营情况更新该列表，不同动作触发后，允许的客服接口下发消息条数不同，下发条数达到上限后，会遇到错误返回码，具体请见返回码说明页）：</p>
<pre>1、用户发送信息
2、点击自定义菜单（仅有点击推事件、扫码推事件、扫码推事件且弹出“消息接收中”提示框这3种菜单类型是会触发客服接口的）
3、关注公众号
4、扫描二维码
5、支付成功
6、用户维权</pre>
<p>为了帮助公众号使用不同的客服身份服务不同的用户群体，客服接口进行了升级，开发者可以管理客服账号，并设置客服账号的头像和昵称。该能力针对所有拥有客服接口权限的公众号开放。</p>
<p>另外，请开发者注意，本接口中所有使用到media_id的地方，现在都可以使用素材管理中的永久素材media_id了。</p>
<p>目录</p>
<p><a href="#1" target="_self">1&nbsp;客服帐号管理</a></p>
<p><a href="#1.1" target="_self">1.1&nbsp;添加客服帐号</a></p>
<p><a href="#1.2" target="_self">1.2&nbsp;修改客服帐号</a></p>
<p><a href="#1.3" target="_self">1.3&nbsp;删除客服帐号</a></p>
<p><a href="#1.4" target="_self">1.4&nbsp;设置客服帐号的头像</a></p>
<p><a href="#1.5" target="_self">1.5&nbsp;获取所有客服账号</a></p>
<p><a href="#1.6" target="_self">1.6&nbsp;接口的统一参数说明</a></p>
<p><a href="#2" target="_self">2&nbsp;客服接口-发消息</a></p>
<p>
<br></p>
<h2><span id=".E5.AE.A2.E6.9C.8D.E5.B8.90.E5.8F.B7.E7.AE.A1.E7.90.86"></span></h2>
<p><a name="1"></a></p>
<h2><span id=".E5.AE.A2.E6.9C.8D.E5.B8.90.E5.8F.B7.E7.AE.A1.E7.90.86"><strong>客服帐号管理</strong></span>
<br></h2>
<p>开发者在根据开发文档的要求完成开发后，使用6.0.2版及以上版本的微信用户在与公众号进行客服沟通，公众号使用不同的客服账号进行回复后，用户可以看到对应的客服头像和昵称。</p>
<p><strong>请注意，必须先在公众平台官网为公众号设置微信号后才能使用该能力。</strong></p>
<h3><span id=".E6.B7.BB.E5.8A.A0.E5.AE.A2.E6.9C.8D.E5.B8.90.E5.8F.B7"></span></h3>
<p><a name="1.1"></a></p>
<h3><span id=".E6.B7.BB.E5.8A.A0.E5.AE.A2.E6.9C.8D.E5.B8.90.E5.8F.B7"><strong>添加客服帐号</strong></span>
<br></h3>
<p>开发者可以通过本接口为公众号添加客服账号，每个公众号最多添加10个客服账号。该接口调用请求如下：</p>
<pre>http请求方式:&nbsp;POST
https://api.weixin.qq.com/customservice/kfaccount/add?access_token=ACCESS_TOKEN</pre>
<p>POST数据示例如下：</p>
<pre>{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"kf_account"&nbsp;:&nbsp;"test1@test",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"nickname"&nbsp;:&nbsp;"客服1",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"password"&nbsp;:&nbsp;"pswmd5",
}</pre>
<p>返回说明（正确时的JSON返回结果）：</p>
<pre>{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"errcode"&nbsp;:&nbsp;0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"errmsg"&nbsp;:&nbsp;"ok",
}</pre>
<p>错误时微信会返回错误码等信息，请根据错误码查询错误信息</p>
<h3><span id=".E4.BF.AE.E6.94.B9.E5.AE.A2.E6.9C.8D.E5.B8.90.E5.8F.B7"></span></h3>
<p><a name="1.2"></a></p>
<h3><span id=".E4.BF.AE.E6.94.B9.E5.AE.A2.E6.9C.8D.E5.B8.90.E5.8F.B7"><strong>修改客服帐号</strong></span>
<br></h3>
<p>开发者可以通过本接口为公众号修改客服账号。该接口调用请求如下：</p>
<pre>http请求方式:&nbsp;POST
https://api.weixin.qq.com/customservice/kfaccount/update?access_token=ACCESS_TOKEN</pre>
<p>POST数据示例如下：</p>
<pre>{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"kf_account"&nbsp;:&nbsp;"test1@test",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"nickname"&nbsp;:&nbsp;"客服1",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"password"&nbsp;:&nbsp;"pswmd5",
}</pre>
<p>返回说明（正确时的JSON返回结果）：</p>
<pre>{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"errcode"&nbsp;:&nbsp;0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"errmsg"&nbsp;:&nbsp;"ok",
}</pre>
<p>错误时微信会返回错误码等信息，请根据错误码查询错误信息</p>
<h3><span id=".E5.88.A0.E9.99.A4.E5.AE.A2.E6.9C.8D.E5.B8.90.E5.8F.B7"></span></h3>
<p><a name="1.3"></a></p>
<h3><span id=".E5.88.A0.E9.99.A4.E5.AE.A2.E6.9C.8D.E5.B8.90.E5.8F.B7"><strong>删除客服帐号</strong></span>
<br></h3>
<p>开发者可以通过该接口为公众号删除客服帐号。该接口调用请求如下：</p>
<pre>http请求方式:&nbsp;GET
https://api.weixin.qq.com/customservice/kfaccount/del?access_token=ACCESS_TOKEN</pre>
<p>POST数据示例如下：</p>
<pre>{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"kf_account"&nbsp;:&nbsp;"test1@test",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"nickname"&nbsp;:&nbsp;"客服1",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"password"&nbsp;:&nbsp;"pswmd5",
}</pre>
<p>返回说明（正确时的JSON返回结果）：</p>
<pre>{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"errcode"&nbsp;:&nbsp;0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"errmsg"&nbsp;:&nbsp;"ok",
}</pre>
<p>错误时微信会返回错误码等信息，请根据错误码查询错误信息</p>
<h3><span id=".E8.AE.BE.E7.BD.AE.E5.AE.A2.E6.9C.8D.E5.B8.90.E5.8F.B7.E7.9A.84.E5.A4.B4.E5.83.8F"></span></h3>
<p><a name="1.4"></a></p>
<h3><span id=".E8.AE.BE.E7.BD.AE.E5.AE.A2.E6.9C.8D.E5.B8.90.E5.8F.B7.E7.9A.84.E5.A4.B4.E5.83.8F"><strong>设置客服帐号的头像</strong></span>
<br></h3>
<p>开发者可调用本接口来上传图片作为客服人员的头像，头像图片文件必须是jpg格式，推荐使用640*640大小的图片以达到最佳效果。该接口调用请求如下：</p>
<pre>http请求方式:&nbsp;POST/FORM
http://api.weixin.qq.com/customservice/kfaccount/uploadheadimg?access_token=ACCESS_TOKEN&amp;kf_account=KFACCOUNT
调用示例：使用curl命令，用FORM表单方式上传一个多媒体文件，curl命令的具体用法请自行了解</pre>
<p>返回说明（正确时的JSON返回结果）：</p>
<pre>{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"errcode"&nbsp;:&nbsp;0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"errmsg"&nbsp;:&nbsp;"ok",
}</pre>
<p>错误时微信会返回错误码等信息，请根据错误码查询错误信息</p>
<h3><span id=".E8.8E.B7.E5.8F.96.E6.89.80.E6.9C.89.E5.AE.A2.E6.9C.8D.E8.B4.A6.E5.8F.B7"></span></h3>
<p><a name="1.5"></a></p>
<h3><span id=".E8.8E.B7.E5.8F.96.E6.89.80.E6.9C.89.E5.AE.A2.E6.9C.8D.E8.B4.A6.E5.8F.B7"><strong>获取所有客服账号</strong></span>
<br></h3>
<p>开发者通过本接口，获取公众号中所设置的客服基本信息，包括客服工号、客服昵称、客服登录账号。</p>
<pre>http请求方式:&nbsp;GET
https://api.weixin.qq.com/cgi-bin/customservice/getkflist?access_token=ACCESS_TOKEN</pre>
<p>返回说明（正确时的JSON返回结果）：</p>
<pre>{
&nbsp;&nbsp;&nbsp;&nbsp;"kf_list":&nbsp;[
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"kf_account":&nbsp;"test1@test",&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"kf_nick":&nbsp;"ntest1",&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"kf_id":&nbsp;"1001"
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"kf_headimgurl":&nbsp;"&nbsp;http://mmbiz.qpic.cn/mmbiz/4whpV1VZl2iccsvYbHvnphkyGtnvjfUS8Ym0GSaLic0FD3vN0V8PILcibEGb2fPfEOmw/0"
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"kf_account":&nbsp;"test2@test",&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"kf_nick":&nbsp;"ntest2",&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"kf_id":&nbsp;"1002"
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"kf_headimgurl":&nbsp;"&nbsp;http://mmbiz.qpic.cn/mmbiz/4whpV1VZl2iccsvYbHvnphkyGtnvjfUS8Ym0GSaLic0FD3vN0V8PILcibEGb2fPfEOmw&nbsp;/0"
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"kf_account":&nbsp;"test3@test",&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"kf_nick":&nbsp;"ntest3",&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"kf_id":&nbsp;"1003"
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"kf_headimgurl":&nbsp;"&nbsp;http://mmbiz.qpic.cn/mmbiz/4whpV1VZl2iccsvYbHvnphkyGtnvjfUS8Ym0GSaLic0FD3vN0V8PILcibEGb2fPfEOmw&nbsp;/0"
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;]
}</pre>
<p>错误时微信会返回错误码等信息，请根据错误码查询错误信息</p>
<h3><span id=".E6.8E.A5.E5.8F.A3.E7.9A.84.E7.BB.9F.E4.B8.80.E5.8F.82.E6.95.B0.E8.AF.B4.E6.98.8E"></span></h3>
<p><a name="1.6"></a></p>
<h3><span id=".E6.8E.A5.E5.8F.A3.E7.9A.84.E7.BB.9F.E4.B8.80.E5.8F.82.E6.95.B0.E8.AF.B4.E6.98.8E"><strong>接口的统一参数说明</strong></span>
<br></h3>
<table cellspacing="0" cellpadding="4" align="center" width="640px">
<tbody>
<tr class="firstRow thead"><th class="table_cell">参数</th><th class="table_cell">是否必须</th><th class="table_cell">说明</th></tr>
<tr><td class="table_cell">access_token</td><td class="table_cell">是</td><td class="table_cell">调用接口凭证</td></tr>
<tr><td class="table_cell">kf_account</td><td class="table_cell">是</td><td class="table_cell">完整客服账号，格式为：账号前缀@公众号微信号</td></tr>
<tr><td class="table_cell">kf_nick</td><td class="table_cell">是</td><td class="table_cell">客服昵称</td></tr>
<tr><td class="table_cell">kf_id</td><td class="table_cell">是</td><td class="table_cell">客服工号</td></tr>
<tr><td class="table_cell">nickname</td><td class="table_cell">是</td><td class="table_cell">客服昵称，最长6个汉字或12个英文字符</td></tr>
<tr><td class="table_cell">password</td><td class="table_cell">否</td><td class="table_cell">客服账号登录密码，格式为密码明文的32位加密MD5值。该密码仅用于在公众平台官网的多客服功能中使用，若不使用多客服功能，则不必设置密码</td></tr>
<tr><td class="table_cell">media</td><td class="table_cell">是</td><td class="table_cell">该参数仅在设置客服头像时出现，是form-data中媒体文件标识，有filename、filelength、content-type等信息</td></tr>
</tbody>
</table>
<h2><span id=".E5.AE.A2.E6.9C.8D.E6.8E.A5.E5.8F.A3-.E5.8F.91.E6.B6.88.E6.81.AF"></span></h2>
<p><a name="2"></a></p>
<h2><span id=".E5.AE.A2.E6.9C.8D.E6.8E.A5.E5.8F.A3-.E5.8F.91.E6.B6.88.E6.81.AF"><strong>客服接口-发消息</strong></span>
<br></h2>
<p><strong>接口调用请求说明</strong></p>
<pre>http请求方式:&nbsp;POST
https://api.weixin.qq.com/cgi-bin/message/custom/send?access_token=ACCESS_TOKEN</pre>
<p>各消息类型所需的JSON数据包如下：</p>
<p>发送文本消息</p>
<pre>{
&nbsp;&nbsp;&nbsp;&nbsp;"touser":"OPENID",
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"text",
&nbsp;&nbsp;&nbsp;&nbsp;"text":
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"content":"Hello&nbsp;World"
&nbsp;&nbsp;&nbsp;&nbsp;}
}</pre>
<p>发送图片消息</p>
<pre>{
&nbsp;&nbsp;&nbsp;&nbsp;"touser":"OPENID",
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"image",
&nbsp;&nbsp;&nbsp;&nbsp;"image":
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"media_id":"MEDIA_ID"
&nbsp;&nbsp;&nbsp;&nbsp;}
}</pre>
<p>发送语音消息</p>
<pre>{
&nbsp;&nbsp;&nbsp;&nbsp;"touser":"OPENID",
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"voice",
&nbsp;&nbsp;&nbsp;&nbsp;"voice":
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"media_id":"MEDIA_ID"
&nbsp;&nbsp;&nbsp;&nbsp;}
}</pre>
<p>发送视频消息</p>
<pre>{
&nbsp;&nbsp;&nbsp;&nbsp;"touser":"OPENID",
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"video",
&nbsp;&nbsp;&nbsp;&nbsp;"video":
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"media_id":"MEDIA_ID",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"thumb_media_id":"MEDIA_ID",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"title":"TITLE",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"description":"DESCRIPTION"
&nbsp;&nbsp;&nbsp;&nbsp;}
}</pre>
<p>发送音乐消息</p>
<pre>{
&nbsp;&nbsp;&nbsp;&nbsp;"touser":"OPENID",
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"music",
&nbsp;&nbsp;&nbsp;&nbsp;"music":
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"title":"MUSIC_TITLE",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"description":"MUSIC_DESCRIPTION",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"musicurl":"MUSIC_URL",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"hqmusicurl":"HQ_MUSIC_URL",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"thumb_media_id":"THUMB_MEDIA_ID"&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;}
}</pre>
<p>发送图文消息（点击跳转到外链） 图文消息条数限制在8条以内，注意，如果图文数超过8，则将会无响应。</p>
<pre>{
&nbsp;&nbsp;&nbsp;&nbsp;"touser":"OPENID",
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"news",
&nbsp;&nbsp;&nbsp;&nbsp;"news":{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"articles":&nbsp;[
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"title":"Happy&nbsp;Day",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"description":"Is&nbsp;Really&nbsp;A&nbsp;Happy&nbsp;Day",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"url":"URL",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"picurl":"PIC_URL"
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"title":"Happy&nbsp;Day",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"description":"Is&nbsp;Really&nbsp;A&nbsp;Happy&nbsp;Day",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"url":"URL",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"picurl":"PIC_URL"
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]
&nbsp;&nbsp;&nbsp;&nbsp;}
}</pre>
<p>发送图文消息（点击跳转到图文消息页面） 图文消息条数限制在8条以内，注意，如果图文数超过8，则将会无响应。</p>
<pre>{
&nbsp;&nbsp;&nbsp;&nbsp;"touser":"OPENID",
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"mpnews",
&nbsp;&nbsp;&nbsp;&nbsp;"mpnews":
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"media_id":"MEDIA_ID"
&nbsp;&nbsp;&nbsp;&nbsp;}
}</pre>
<p>发送卡券</p>
<pre>{
&nbsp;&nbsp;"touser":"OPENID",&nbsp;
&nbsp;&nbsp;"msgtype":"wxcard",
&nbsp;&nbsp;"wxcard":{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"card_id":"123dsdajkasd231jhksad"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
}</pre>
<p>特别注意客服消息接口投放卡券仅支持非自定义Code码和导入code模式的卡券的卡券，详情请见：<a href="http://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1451025056&amp;token=&amp;lang=zh_CN&amp;anchor=2.2.2" target="_blank">是否自定义code码</a>。</p>
<p><span>请注意，如果需要以某个客服帐号来发消息（在微信6.0.2及以上版本中显示自定义头像），则需在JSON数据包的后半部分加入customservice参数，例如发送文本消息则改为：</span></p>
<pre>{
&nbsp;&nbsp;&nbsp;&nbsp;"touser":"OPENID",
&nbsp;&nbsp;&nbsp;&nbsp;"msgtype":"text",
&nbsp;&nbsp;&nbsp;&nbsp;"text":
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"content":"Hello&nbsp;World"
&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;"customservice":
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"kf_account":&nbsp;"test1@kftest"
&nbsp;&nbsp;&nbsp;&nbsp;}
}</pre>
<table cellspacing="0" cellpadding="4" align="center" width="640px">
<tbody>
<tr class="firstRow thead"><th class="table_cell">参数</th><th class="table_cell">是否必须</th><th class="table_cell">说明</th></tr>
<tr><td class="table_cell">access_token</td><td class="table_cell">是</td><td class="table_cell">调用接口凭证</td></tr>
<tr><td class="table_cell">touser</td><td class="table_cell">是</td><td class="table_cell">普通用户openid</td></tr>
<tr><td class="table_cell">msgtype</td><td class="table_cell">是</td><td class="table_cell">消息类型，文本为text，图片为image，语音为voice，视频消息为video，音乐消息为music，图文消息（点击跳转到外链）为news，图文消息（点击跳转到图文消息页面）为mpnews，卡券为wxcard</td></tr>
<tr><td class="table_cell">content</td><td class="table_cell">是</td><td class="table_cell">文本消息内容</td></tr>
<tr><td class="table_cell">media_id</td><td class="table_cell">是</td><td class="table_cell">发送的图片/语音/视频/图文消息（点击跳转到图文消息页）的媒体ID</td></tr>
<tr><td class="table_cell">thumb_media_id</td><td class="table_cell">是</td><td class="table_cell">缩略图的媒体ID</td></tr>
<tr><td class="table_cell">title</td><td class="table_cell">否</td><td class="table_cell">图文消息/视频消息/音乐消息的标题</td></tr>
<tr><td class="table_cell">description</td><td class="table_cell">否</td><td class="table_cell">图文消息/视频消息/音乐消息的描述</td></tr>
<tr><td class="table_cell">musicurl</td><td class="table_cell">是</td><td class="table_cell">音乐链接</td></tr>
<tr><td class="table_cell">hqmusicurl</td><td class="table_cell">是</td><td class="table_cell">高品质音乐链接，wifi环境优先使用该链接播放音乐</td></tr>
<tr><td class="table_cell">url</td><td class="table_cell">否</td><td class="table_cell">图文消息被点击后跳转的链接</td></tr>
<tr><td class="table_cell">picurl</td><td class="table_cell">否</td><td class="table_cell">图文消息的图片链接，支持JPG、PNG格式，较好的效果为大图640*320，小图80*80</td></tr>
</tbody>
</table>
<p><strong>接口返回说明</strong></p>
<p>返回数据示例（正确时的JSON返回结果）：</p>
<p>
<br>
<br></p>
</div>
</div>
</div>
</div>
</body>
</html>