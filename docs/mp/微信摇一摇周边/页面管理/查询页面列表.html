
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link onerror="wx_loaderror(this)" onerror="wx_loaderror(this)" rel="stylesheet" type="text/css" href="https://res.wx.qq.com/mpres/htmledition/style/page/resource/res_iframe2f613f.css"/></head>
<body class="page_doc">
<div class="main_hd"><h2>​ 查询页面列表</h2>
</div>
<div class="main_bd">
<div class="article_box">
<div class="inner">
<div class="news_content">
<p><span><span></span></span></p>
<p><span></span><strong>接口说明</strong></p>
<p><span>查询已有的页面，包括在摇一摇页面出现的主标题、副标题、图片和点击进去的超链接。提供两种查询方式，可指定页面ID查询，也可批量拉取页面列表。</span></p>
<p><span><strong>接口调用请求说明</strong></span></p>
<div data-tag="backcolor">
<p><span>http请求方式: POST（请使用https协议）https://api.weixin.qq.com/shakearound/page/search?access_token=ACCESS_TOKENPOST数据格式：json<br>POST数据例子：<br>需要查询指定页面时：<br>{<br>&nbsp; &nbsp;"type": 1,<br>&nbsp; &nbsp;"page_ids":[12345, 23456, 34567]<br>}
<br><br>需要分页查询或者指定范围内的页面时：<br>{<br>&nbsp; &nbsp;"type": 2,<br>&nbsp; &nbsp;"begin": 0,	<br>&nbsp; &nbsp;"count": 3<br>}
<br></span></p>
</div>
<p><span><strong>参数说明</strong></span></p>
<table class="table">
<tbody class="tbody">
<tr class="firstRow thead"><td class="table_cell" width="451" valign="top"><span>参数</span></td><td class="table_cell" width="451" valign="top"><span>是否必须</span></td><td class="table_cell" width="451" valign="top"><span>说明</span></td></tr>
<tr><td class="table_cell"><span>access_token</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>调用接口凭证</span></td></tr>
<tr><td class="table_cell"><span>type</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>查询类型。1： 查询页面id列表中的页面信息；2：分页查询所有页面信息</span></td></tr>
<tr><td class="table_cell"><span>page_ids</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>指定页面的id列表；当type为1时，此项为必填</span></td></tr>
<tr><td class="table_cell"><span>begin</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>页面列表的起始索引值；当type为2时，此项为必填</span></td></tr>
<tr><td class="table_cell"><span>count</span></td><td class="table_cell"><span>是</span></td><td class="table_cell"><span>待查询的页面数量，不能超过50个；当type为2时，此项为必填 &nbsp;&nbsp;</span></td></tr>
</tbody>
</table>
<p>
<br></p>
<p><span><strong>返回说明</strong>&nbsp;</span></p>
<p><span>正常时的返回JSON数据包示例：</span></p>
<div data-tag="backcolor">
<p><span>{<br>&nbsp; &nbsp;"data": {<br>&nbsp; &nbsp; &nbsp; &nbsp;"pages": [<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"comment": "just for test",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"description": "test",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"icon_url": "https://www.baidu.com/img/bd_logo1",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"page_id": 28840,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"page_url": "http://xw.qq.com/testapi1",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"title": "测试1"<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"comment": "just for test",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"description": "test",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"icon_url": "https://www.baidu.com/img/bd_logo1",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"page_id": 28842,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"page_url": "http://xw.qq.com/testapi2",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"title": "测试2"<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br>&nbsp; &nbsp; &nbsp; &nbsp;],<br>&nbsp; &nbsp; &nbsp; &nbsp;"total_count": 2<br>&nbsp; &nbsp;},<br>&nbsp; &nbsp;"errcode": 0,<br>&nbsp; &nbsp;"errmsg": "success."<br>}
<br></span></p>
</div>
<p><span><strong>参数说明</strong></span></p>
<table class="table">
<tbody class="tbody">
<tr class="firstRow thead"><td class="table_cell" width="687" valign="top"><span>参数</span></td><td class="table_cell" width="687" valign="top"><span>说明</span></td></tr>
<tr><td class="table_cell"><span>total_count</span></td><td class="table_cell"><span>商户名下的页面总数</span></td></tr>
<tr><td class="table_cell"><span>page_id</span></td><td class="table_cell"><span>摇周边页面唯一ID</span></td></tr>
<tr><td class="table_cell"><span>title</span></td><td class="table_cell"><span>在摇一摇页面展示的主标题，</span></td></tr>
<tr><td class="table_cell"><span>description</span></td><td class="table_cell"><span>在摇一摇页面展示的副标题</span></td></tr>
<tr><td class="table_cell"><span>icon_url</span></td><td class="table_cell"><span>在摇一摇页面展示的图片</span></td></tr>
<tr><td class="table_cell"><span>page_url</span></td><td class="table_cell"><span>跳转链接</span></td></tr>
<tr><td class="table_cell"><span>comment</span></td><td class="table_cell"><span>页面的备注信息&nbsp;
<br>
<br></span></td></tr>
</tbody>
</table>
<p><span>
<br></span></p>
</div>
</div>
</div>
</div>
</body>
</html>