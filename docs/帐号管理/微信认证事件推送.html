<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link onerror="wx_loaderror(this)" onerror="wx_loaderror(this)" rel="stylesheet" type="text/css" href="https://res.wx.qq.com/mpres/htmledition/style/page/resource/res_iframe2f613f.css"/> 
</head>
<body class="page_doc">
    <div class="main_hd"><h2>微信认证事件推送</h2>
</div>
    <div class="main_bd"> 
        <div class="article_box">
            <div class="inner">
                <div class="news_content">
                    <p><span style="font-size: 14px; font-family: 微软雅黑, 'Microsoft YaHei';"></span>为了帮助公众号开发者获取公众号的认证状态，也为了第三方平台开发者获知旗下公众号的认证状态，微信公众平台提供了公众号认证过程中各个阶段的事件推送。</p>
<p>事件推送到哪里？</p>
<p>1、事件推送将会推送给公众号在公众平台官网开发者中心设置的服务地址中<br>2、如果公众号已将帐号管理权限集（因为该接口权限从属于帐号管理权限集）授权给第三方平台，那么将由第三方平台代公众号接收事件推送，具体是推送到第三方平台的公众号消息与事件接收URL<br></p>
<p>请注意：</p>
<p>1、资质认证成功后，公众号就获得了认证相关接口权限，资质认证成功一定发生在名称认证成功之前<br>2、名称认证成功后，公众号才在微信客户端中获得打勾认证标识</p>
<p>目录</p>
<p><a href="#1" target="_self">1&nbsp;资质认证成功（此时立即获得接口权限）</a></p>
<p><a href="#2" target="_self">2&nbsp;资质认证失败</a></p>
<p><a href="#3" target="_self">3&nbsp;名称认证成功（即命名成功）</a></p>
<p><a href="#4" target="_self">4&nbsp;名称认证失败（这时虽然客户端不打勾，但仍有接口权限）</a></p>
<p><a href="#5" target="_self">5&nbsp;年审通知</a></p>
<p><a href="#6" target="_self">6&nbsp;认证过期失效通知</a></p>
<p><br></p>
<p><strong><a name="1"></a>资质认证成功（此时立即获得接口权限）</strong></p>
<div data-tag="backcolor" style="margin-bottom: 14px; padding: 10px 16px; background-color: rgb(253, 234, 218);"><p>推送XML数据包示例：</p>
<p>&lt;xml&gt;&lt;ToUserName&gt;&lt;![CDATA[toUser]]&gt;&lt;/ToUserName&gt;<br>&lt;FromUserName&gt;&lt;![CDATA[fromUser]]&gt;&lt;/FromUserName&gt;<br>&lt;CreateTime&gt;1442401156&lt;/CreateTime&gt;<br>&lt;MsgType&gt;&lt;![CDATA[event]]&gt;&lt;/MsgType&gt;<br>&lt;Event&gt;&lt;![CDATA[qualification_verify_success]]&gt;&lt;/Event&gt;<br>&lt;ExpiredTime&gt;1442401156&lt;/ExpiredTime&gt;<br>&lt;/xml&gt; <br></p>
</div><p>参数说明</p>
<table cellspacing="0" cellpadding="4" align="center"><tbody><tr class="firstRow thead"><th style="width: 180px;" class="table_cell">参数</th><th style="width: 470px;" class="table_cell">描述</th></tr>
<tr><td class="table_cell">ToUserName</td><td class="table_cell"><strong>开发者</strong>微信号</td></tr>
<tr><td class="table_cell">FromUserName</td><td class="table_cell">发送方帐号（一个OpenID，此时发送方是系统帐号）</td></tr>
<tr><td class="table_cell">CreateTime</td><td class="table_cell">消息创建时间 （整型），时间戳</td></tr>
<tr><td class="table_cell">MsgType</td><td class="table_cell">消息类型，event</td></tr>
<tr><td class="table_cell">Event</td><td class="table_cell">事件类型 qualification_verify_success</td></tr>
<tr><td class="table_cell">ExpiredTime</td><td class="table_cell">有效期 (整形)，指的是时间戳，将于该时间戳认证过期</td></tr>
</tbody></table>
<p><br></p>
<p>&nbsp; &nbsp;</p>
<p><strong><a name="2"></a>资质认证失败</strong></p>
<div data-tag="backcolor" style="margin-bottom: 14px; padding: 10px 16px; background-color: rgb(253, 234, 218);"><p>推送XML数据包示例：</p>
<p>&lt;xml&gt;&lt;ToUserName&gt;&lt;![CDATA[toUser]]&gt;&lt;/ToUserName&gt;<br>&lt;FromUserName&gt;&lt;![CDATA[fromUser]]&gt;&lt;/FromUserName&gt;<br>&lt;CreateTime&gt;1442401156&lt;/CreateTime&gt;<br>&lt;MsgType&gt;&lt;![CDATA[event]]&gt;&lt;/MsgType&gt;<br>&lt;Event&gt;&lt;![CDATA[qualification_verify_fail]]&gt;&lt;/Event&gt;<br>&lt;FailTime&gt;1442401122&lt;/FailTime&gt;<br>&lt;FailReason&gt;&lt;![CDATA[by time]]&gt;&lt;/FailReason&gt;<br>&lt;/xml&gt;</p>
</div><p>参数说明</p>
<table cellspacing="0" cellpadding="4" align="center"><tbody><tr class="firstRow thead"><th style="width: 180px;" class="table_cell">参数</th><th style="width: 470px;" class="table_cell">描述</th></tr>
<tr><td class="table_cell">ToUserName</td><td class="table_cell"><strong>开发者</strong>微信号</td></tr>
<tr><td class="table_cell">FromUserName</td><td class="table_cell">发送方帐号（一个OpenID，此时发送方是系统帐号）</td></tr>
<tr><td class="table_cell">CreateTime</td><td class="table_cell">消息创建时间 （整型），时间戳</td></tr>
<tr><td class="table_cell">MsgType</td><td class="table_cell">消息类型，event</td></tr>
<tr><td class="table_cell">Event</td><td class="table_cell">事件类型 qualification_verify_fail</td></tr>
<tr><td class="table_cell">FailTime</td><td class="table_cell">失败发生时间 (整形)，时间戳</td></tr>
<tr><td class="table_cell">FailReason</td><td class="table_cell">认证失败的原因</td></tr>
</tbody></table>
<p><br></p>
<p>&nbsp; &nbsp;&nbsp;</p>
<p><strong><a name="3"></a>名称认证成功（即命名成功）</strong></p>
<div data-tag="backcolor" style="margin-bottom: 14px; padding: 10px 16px; background-color: rgb(253, 234, 218);"><p>推送XML数据包示例：</p>
<p>&lt;xml&gt;&lt;ToUserName&gt;&lt;![CDATA[toUser]]&gt;&lt;/ToUserName&gt;<br>&lt;FromUserName&gt;&lt;![CDATA[fromUser]]&gt;&lt;/FromUserName&gt;<br>&lt;CreateTime&gt;1442401093&lt;/CreateTime&gt;<br>&lt;MsgType&gt;&lt;![CDATA[event]]&gt;&lt;/MsgType&gt;<br>&lt;Event&gt;&lt;![CDATA[naming_verify_success]]&gt;&lt;/Event&gt;<br>&lt;ExpiredTime&gt;1442401093&lt;/ExpiredTime&gt;<br>&lt;/xml&gt; <br></p>
</div><p>参数说明</p>
<table cellspacing="0" cellpadding="4" align="center"><tbody><tr class="firstRow thead"><th style="width: 180px;" class="table_cell">参数</th><th style="width: 470px;" class="table_cell">描述</th></tr>
<tr><td class="table_cell">ToUserName</td><td class="table_cell"><strong>开发者</strong>微信号</td></tr>
<tr><td class="table_cell">FromUserName</td><td class="table_cell">发送方帐号（一个OpenID，此时发送方是系统帐号）</td></tr>
<tr><td class="table_cell">CreateTime</td><td class="table_cell">消息创建时间 （整型），时间戳</td></tr>
<tr><td class="table_cell">MsgType</td><td class="table_cell">消息类型，event</td></tr>
<tr><td class="table_cell">Event</td><td class="table_cell">事件类型 naming_verify_success</td></tr>
<tr><td class="table_cell">ExpiredTime</td><td class="table_cell">有效期 (整形)，指的是时间戳，将于该时间戳认证过期</td></tr>
</tbody></table>
<p><strong><a name="4"></a>名称认证失败（这时虽然客户端不打勾，但仍有接口权限）</strong><br></p>
<div data-tag="backcolor" style="margin-bottom: 14px; padding: 10px 16px; background-color: rgb(253, 234, 218);"><p>推送XML数据包示例：</p>
<p>&lt;xml&gt;&lt;ToUserName&gt;&lt;![CDATA[toUser]]&gt;&lt;/ToUserName&gt;<br>&lt;FromUserName&gt;&lt;![CDATA[fromUser]]&gt;&lt;/FromUserName&gt;<br>&lt;CreateTime&gt;1442401061&lt;/CreateTime&gt;<br>&lt;MsgType&gt;&lt;![CDATA[event]]&gt;&lt;/MsgType&gt;<br>&lt;Event&gt;&lt;![CDATA[naming_verify_fail]]&gt;&lt;/Event&gt;<br>&lt;FailTime&gt;1442401061&lt;/FailTime&gt;<br>&lt;FailReason&gt;&lt;![CDATA[by time]]&gt;&lt;/FailReason&gt;<br>&lt;/xml&gt;<br></p>
</div><p>参数说明</p>
<table cellspacing="0" cellpadding="4" align="center"><tbody><tr class="firstRow thead"><th style="width: 180px;" class="table_cell">参数</th><th style="width: 470px;" class="table_cell">描述</th></tr>
<tr><td class="table_cell">ToUserName</td><td class="table_cell"><strong>开发者</strong>微信号</td></tr>
<tr><td class="table_cell">FromUserName</td><td class="table_cell">发送方帐号（一个OpenID，此时发送方是系统帐号）</td></tr>
<tr><td class="table_cell">CreateTime</td><td class="table_cell">消息创建时间 （整型），时间戳</td></tr>
<tr><td class="table_cell">MsgType</td><td class="table_cell">消息类型，event</td></tr>
<tr><td class="table_cell">Event</td><td class="table_cell">事件类型 naming_verify_fail</td></tr>
<tr><td class="table_cell">FailTime</td><td class="table_cell">失败发生时间 (整形)，时间戳</td></tr>
<tr><td class="table_cell">FailReason</td><td class="table_cell">认证失败的原因</td></tr>
</tbody></table>
<p><strong><a name="5"></a>年审通知</strong><br></p>
<div data-tag="backcolor" style="margin-bottom: 14px; padding: 10px 16px; background-color: rgb(253, 234, 218);"><p>推送XML数据包示例：</p>
<p>&lt;xml&gt;&lt;ToUserName&gt;&lt;![CDATA[toUser]]&gt;&lt;/ToUserName&gt;<br>&lt;FromUserName&gt;&lt;![CDATA[fromUser]]&gt;&lt;/FromUserName&gt;<br>&lt;CreateTime&gt;1442401004&lt;/CreateTime&gt;<br>&lt;MsgType&gt;&lt;![CDATA[event]]&gt;&lt;/MsgType&gt;<br>&lt;Event&gt;&lt;![CDATA[annual_renew]]&gt;&lt;/Event&gt;<br>&lt;ExpiredTime&gt;1442401004&lt;/ExpiredTime&gt;<br>&lt;/xml&gt;<br></p>
</div><p>参数说明</p>
<table cellspacing="0" cellpadding="4" align="center"><tbody><tr class="firstRow thead"><th style="width: 180px;" class="table_cell">参数</th><th style="width: 470px;" class="table_cell">描述</th></tr>
<tr><td class="table_cell">ToUserName</td><td class="table_cell"><strong>开发者</strong>微信号</td></tr>
<tr><td class="table_cell">FromUserName</td><td class="table_cell">发送方帐号（一个OpenID，此时发送方是系统帐号）</td></tr>
<tr><td class="table_cell">CreateTime</td><td class="table_cell">消息创建时间 （整型），时间戳</td></tr>
<tr><td class="table_cell">MsgType</td><td class="table_cell">消息类型，event</td></tr>
<tr><td class="table_cell">Event</td><td class="table_cell">事件类型 annual_renew，提醒公众号需要去年审了</td></tr>
<tr><td class="table_cell">ExpiredTime</td><td class="table_cell">有效期 (整形)，指的是时间戳，将于该时间戳认证过期，需尽快年审</td></tr>
</tbody></table>
<p><strong><a name="6"></a>认证过期失效通知</strong><br></p>
<div data-tag="backcolor" style="margin-bottom: 14px; padding: 10px 16px; background-color: rgb(253, 234, 218);"><p>推送XML数据包示例：</p>
<p>&lt;xml&gt;&lt;ToUserName&gt;&lt;![CDATA[toUser]]&gt;&lt;/ToUserName&gt;<br>&lt;FromUserName&gt;&lt;![CDATA[fromUser]]&gt;&lt;/FromUserName&gt;<br>&lt;CreateTime&gt;1442400900&lt;/CreateTime&gt;<br>&lt;MsgType&gt;&lt;![CDATA[event]]&gt;&lt;/MsgType&gt;<br>&lt;Event&gt;&lt;![CDATA[verify_expired]]&gt;&lt;/Event&gt;<br>&lt;ExpiredTime&gt;1442400900&lt;/ExpiredTime&gt;<br>&lt;/xml&gt;<br></p>
</div><p>参数说明</p>
<table cellspacing="0" cellpadding="4" align="center"><tbody><tr class="firstRow thead"><th style="width: 180px;" class="table_cell">参数</th><th style="width: 470px;" class="table_cell">描述</th></tr>
<tr><td class="table_cell">ToUserName</td><td class="table_cell"><strong>开发者</strong>微信号</td></tr>
<tr><td class="table_cell">FromUserName</td><td class="table_cell">发送方帐号（一个OpenID，此时发送方是系统帐号）</td></tr>
<tr><td class="table_cell">CreateTime</td><td class="table_cell">消息创建时间 （整型），时间戳</td></tr>
<tr><td class="table_cell">MsgType</td><td class="table_cell">消息类型，event</td></tr>
<tr><td class="table_cell">Event</td><td class="table_cell">事件类型 verify_expired</td></tr>
<tr><td class="table_cell">ExpiredTime</td><td class="table_cell">有效期 (整形)，指的是时间戳，表示已于该时间戳认证过期，需要重新发起微信认证</td></tr>
</tbody></table>
<p><br></p>
<p><span style="font-size: 14px; font-family: 微软雅黑, 'Microsoft YaHei';"></span><br></p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>