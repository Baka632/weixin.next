<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link onerror="wx_loaderror(this)" onerror="wx_loaderror(this)" rel="stylesheet" type="text/css" href="https://res.wx.qq.com/mpres/htmledition/style/page/resource/res_iframe2f613f.css"/> 
</head>
<body class="page_doc">
    <div class="main_hd"><h2>获取永久素材</h2>
</div>
    <div class="main_bd"> 
        <div class="article_box">
            <div class="inner">
                <div class="news_content">
                    <p><span style="font-size: 14px; font-family: 微软雅黑, 'Microsoft YaHei';"></span>在新增了永久素材后，开发者可以根据media_id来获取永久素材，需要时也可保存到本地。</p>
<p>请注意：</p>
<p>1、获取永久素材也可以获取公众号在公众平台官网素材管理模块中新建的图文消息、图片、语音、视频等素材（但需要先通过获取素材列表来获知素材的media_id）<br>2、临时素材无法通过本接口获取<br>3、调用该接口需https协议<br></p>
<p>接口调用请求说明</p>
<p style="margin-bottom: 14px; padding: 10px 16px; background-color: rgb(253, 234, 218);">http请求方式: POST,https调用</p>
<p style="margin-bottom: 14px; padding: 10px 16px; background-color: rgb(253, 234, 218);">https://api.weixin.qq.com/cgi-bin/material/get_material?access_token=ACCESS_TOKEN</p>
<p>调用示例</p>
<div data-tag="backcolor" style="margin-bottom: 14px; padding: 10px 16px; background-color: rgb(253, 234, 218);">{<br>"media_id":MEDIA_ID<br>}</div>
<p>参数说明<br></p>
<p><span style="font-size: 14px; font-family: 微软雅黑, 'Microsoft YaHei';"></span></p>
<table class="table" width="951"><tbody class="tbody"><tr class="firstRow thead"><td class="table_cell" width="217" valign="top" style="word-break: break-all;">参数</td><td class="table_cell" width="217" valign="top" style="word-break: break-all;">是否必须</td><td class="table_cell" width="217" valign="top" style="word-break: break-all;">说明</td></tr>
<tr><td class="table_cell" width="217" valign="top" style="word-break: break-all;">access_token</td><td class="table_cell" width="217" valign="top" style="word-break: break-all;">是</td><td class="table_cell" width="217" valign="top" style="word-break: break-all;">调用接口凭证</td></tr>
<tr><td class="table_cell" width="217" valign="top" style="word-break: break-all;">media_id</td><td class="table_cell" width="217" valign="top" style="word-break: break-all;">是</td><td class="table_cell" width="217" valign="top" style="word-break: break-all;">要获取的素材的media_id</td></tr>
</tbody></table>
<p>返回说明</p>
<p>如果请求的素材为图文消息，则响应如下：</p>
<div data-tag="backcolor" style="margin-bottom: 14px; padding: 10px 16px; background-color: rgb(253, 234, 218);">{<br> "news_item":<br> [<br> &nbsp; &nbsp; {<br> &nbsp; &nbsp; "title":TITLE,<br> &nbsp; &nbsp; "thumb_media_id"::THUMB_MEDIA_ID,<br> &nbsp; &nbsp; "show_cover_pic":SHOW_COVER_PIC(0/1),<br> &nbsp; &nbsp; "author":AUTHOR,<br> &nbsp; &nbsp; "digest":DIGEST,<br> &nbsp; &nbsp; "content":CONTENT,<br> &nbsp; &nbsp; "url":URL,<br> &nbsp; &nbsp; "content_source_url":CONTENT_SOURCE_URL<br> &nbsp; &nbsp; },<br> &nbsp; &nbsp; //多图文消息有多篇文章<br> &nbsp;]<br>}</div>
<p>如果返回的是视频消息素材，则内容如下：<br></p>
<div data-tag="backcolor" style="margin-bottom: 14px; padding: 10px 16px; background-color: rgb(253, 234, 218);">{<br> &nbsp;"title":TITLE,<br> &nbsp;"description":DESCRIPTION,<br> &nbsp;"down_url":DOWN_URL,<br>}</div>
<p>其他类型的素材消息，则响应的直接为素材的内容，开发者可以自行保存为文件。例如：<br></p>
<div data-tag="backcolor" style="margin-bottom: 14px; padding: 10px 16px; background-color: rgb(253, 234, 218);">示例<br>curl "https://api.weixin.qq.com/cgi-bin/material/get_material?access_token=ACCESS_TOKEN" -d '{"media_id":"61224425"}' &gt; file</div>
<p>返回参数说明<br></p>
<table class="table" width="951"><tbody class="tbody"><tr class="firstRow thead"><td class="table_cell" width="325" valign="top" style="word-break: break-all;">参数</td><td class="table_cell" width="325" valign="top" style="word-break: break-all;">描述</td></tr>
<tr><td class="table_cell" width="325" valign="top" style="word-break: break-all;">title<br></td><td class="table_cell" width="325" valign="top" style="word-break: break-all;">图文消息的标题</td></tr>
<tr><td class="table_cell" width="325" valign="top" style="word-break: break-all;">thumb_media_id</td><td class="table_cell" width="325" valign="top" style="word-break: break-all;">图文消息的封面图片素材id（必须是永久mediaID）</td></tr>
<tr><td class="table_cell" width="325" valign="top" style="word-break: break-all;">show_cover_pic</td><td class="table_cell" width="325" valign="top" style="word-break: break-all;">是否显示封面，0为false，即不显示，1为true，即显示</td></tr>
<tr><td class="table_cell" width="325" valign="top" style="word-break: break-all;">author</td><td class="table_cell" width="325" valign="top" style="word-break: break-all;">作者</td></tr>
<tr><td class="table_cell" width="325" valign="top" style="word-break: break-all;">digest</td><td class="table_cell" width="325" valign="top" style="word-break: break-all;">图文消息的摘要，仅有单图文消息才有摘要，多图文此处为空</td></tr>
<tr><td class="table_cell" width="325" valign="top" style="word-break: break-all;">content</td><td class="table_cell" width="325" valign="top" style="word-break: break-all;">图文消息的具体内容，支持HTML标签，必须少于2万字符，小于1M，且此处会去除JS</td></tr>
<tr><td class="table_cell" width="325" valign="top" style="word-break: break-all;">url</td><td class="table_cell" width="325" valign="top" style="word-break: break-all;">图文页的URL</td></tr>
<tr><td class="table_cell" width="325" valign="top" style="word-break: break-all;">content_source_url</td><td class="table_cell" width="325" valign="top" style="word-break: break-all;">图文消息的原文地址，即点击“阅读原文”后的URL</td></tr>
</tbody></table>
<p>错误情况下的返回JSON数据包示例如下（示例为无效媒体类型错误）：</p>
<div data-tag="backcolor" style="margin-bottom: 14px; padding: 10px 16px; background-color: rgb(253, 234, 218);">{"errcode":40007,"errmsg":"invalid media_id"}</div>
<p><br></p>
<p><br></p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>