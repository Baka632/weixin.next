
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link onerror="wx_loaderror(this)" onerror="wx_loaderror(this)" rel="stylesheet" type="text/css" href="https://res.wx.qq.com/mpres/htmledition/style/page/resource/res_iframe2f613f.css"/></head>
<body class="page_doc">
<div class="main_hd"><h2>配置设备与页面的关联关系</h2>
</div>
<div class="main_bd">
<div class="article_box">
<div class="inner">
<div class="news_content">
<p><span></span><strong>接口说明</strong><span>&nbsp;</span></p>
<p><span>配置时传入该设备需要关联的页面的id列表（该设备原有的关联关系将被直接清除）；</span></p>
<p><span>页面的id列表允许为空，当页面的id列表为空时则会清除该设备的所有关联关系。</span></p>
<p><span>配置完成后，在此设备的信号范围内，即可摇出关联的页面信息。</span></p>
<p><span>在申请设备ID后，可直接使用接口直接配置页面。</span></p>
<p><span>若设备配置多个页面，则随机出现页面信息。一个设备最多可配置30个关联页面。</span></p>
<p><span><strong>接口调用说明</strong></span></p>
<div data-tag="backcolor"><span>http请求方式: POST（请使用https协议）https://api.weixin.qq.com/shakearound/device/bindpage?access_token=ACCESS_TOKENPOST数据格式：json<br>POST数据例子：<br>{<br>&nbsp; &nbsp;"device_identifier":{	<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "device_id":10011,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "uuid":"FDA50693-A4E2-4FB1-AFCF-C6EB07647825",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "major":1002,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "minor":1223<br>&nbsp; &nbsp; &nbsp;},<br>&nbsp; &nbsp;"page_ids":[12345, 23456, 334567]	<br>}</span></div>
<p><span><strong>参数说明</strong></span></p>
<table class="table" width="951">
<tbody class="tbody">
<tr class="firstRow thead"><td class="table_cell" width="234" valign="top"><span>参数</span></td><td class="table_cell" width="203" valign="top"><span>是否必须</span></td><td class="table_cell" width="213" valign="top"><span>说明</span></td></tr>
<tr><td class="table_cell" width="234"><span>access_token</span></td><td class="table_cell" width="203"><span>是</span></td><td class="table_cell" width="213"><span>调用接口凭证</span></td></tr>
<tr><td class="table_cell" width="234"><span>page_ids</span></td><td class="table_cell" width="203"><span>是</span></td><td class="table_cell" width="213"><span>待关联的页面列表</span></td></tr>
<tr><td class="table_cell" width="234"><span>device_identifier</span></td><td class="table_cell" width="203"><span>是</span></td><td class="table_cell" width="213"><span>指定页面的设备ID</span></td></tr>
<tr><td class="table_cell" width="234"><span>device_id</span></td><td class="table_cell" width="203"><span>是</span></td><td class="table_cell" width="213"><span>设备编号，若填了UUID、major、minor，则可不填设备编号，若二者都填，则以设备编号为优先</span></td></tr>
<tr><td class="table_cell" width="234"><span>UUID、major、minor</span></td><td class="table_cell" width="203"><span>是</span></td><td class="table_cell" width="213"><span>UUID、major、minor，三个信息需填写完整，若填了设备编号，则可不填此信息 &nbsp;</span></td></tr>
</tbody>
</table>
<p><span><strong>返回说明</strong>&nbsp;</span></p>
<p><span>正常时的返回JSON数据包示例：</span></p>
<div data-tag="backcolor"><span>{<br>&nbsp; "data": {<br>&nbsp; &nbsp; &nbsp;&nbsp;<br>&nbsp; },<br>&nbsp; "errcode": 0,<br>&nbsp; "errmsg": "success."<br>}</span></div>
<p><span>
<br></span></p>
</div>
</div>
</div>
</div>
</body>
</html>